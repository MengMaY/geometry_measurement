<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>ODASE Documentation - Reference</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="ODASE Ontologies" />
<link rel="stylesheet" type="text/css" href="style/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="style/css/bigblow.css"/>
<link rel="stylesheet" type="text/css" href="style/css/hideshow.css"/>
<script type="text/javascript" src="style/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="style/js/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="style/js/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="style/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="style/js/bigblow.js"></script>
<script type="text/javascript" src="style/js/hideshow.js"></script>
</head>
<body>
<div id="content">
<h1 class="title">ODASE Documentation - Reference</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Introduction</a>
<ul>
<li><a href="#sec-1-1">1.1. ODASE</a></li>
<li><a href="#sec-1-2">1.2. Semantic Languages</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. OWL</a></li>
<li><a href="#sec-1-2-2">1.2.2. SWRL</a></li>
<li><a href="#sec-1-2-3">1.2.3. Sword</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. API Generation</a></li>
<li><a href="#sec-1-4">1.4. Using Ontologies with ODASE</a>
<ul>
<li><a href="#sec-1-4-1">1.4.1. General Principles</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">2. Stores</a>
<ul>
<li><a href="#sec-2-1">2.1. Store URI</a></li>
<li><a href="#sec-2-2">2.2. XML Catalogs</a></li>
<li><a href="#store_types">2.3. Store Types</a>
<ul>
<li><a href="#sec-2-3-1">2.3.1. Memory Stores</a></li>
<li><a href="#sec-2-3-2">2.3.2. SQL Stores</a>
<ul>
<li><a href="#sec-2-3-2-1">2.3.2.1. rdfSql</a></li>
<li><a href="#sec-2-3-2-2">2.3.2.2. rdfHedwig</a></li>
</ul>
</li>
<li><a href="#sec-2-3-3">2.3.3. Native Stores</a>
<ul>
<li><a href="#sec-2-3-3-1">2.3.3.1. rdfOracle</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3">3. Workbench</a>
<ul>
<li><a href="#sec-3-1">3.1. Editing</a>
<ul>
<li><a href="#sec-3-1-1">3.1.1. Auto completion</a></li>
<li><a href="#sec-3-1-2">3.1.2. Folding</a></li>
<li><a href="#sec-3-1-3">3.1.3. Errors</a></li>
</ul>
</li>
<li><a href="#sec-3-2">3.2. Browsing</a></li>
<li><a href="#sec-3-3">3.3. Explaining</a></li>
<li><a href="#sec-3-4">3.4. Querying</a></li>
<li><a href="#sec-3-5">3.5. Testing</a></li>
<li><a href="#sec-3-6">3.6. Mustache template</a></li>
</ul>
</li>
<li><a href="#sword_reference">4. Sword</a>
<ul>
<li><a href="#sec-4-1">4.1. Structure of a Sword file</a></li>
<li><a href="#sec-4-2">4.2. Ontology</a></li>
<li><a href="#sec-4-3">4.3. Import</a></li>
<li><a href="#sec-4-4">4.4. Prefix</a></li>
<li><a href="#sec-4-5">4.5. Predefined namespace prefixes</a></li>
<li><a href="#sec-4-6">4.6. URIs</a></li>
<li><a href="#sword_literals">4.7. Literals</a></li>
<li><a href="#sec-4-8">4.8. Facts</a>
<ul>
<li><a href="#sec-4-8-1">4.8.1. Instances of a class</a></li>
<li><a href="#sec-4-8-2">4.8.2. Property values</a></li>
</ul>
</li>
<li><a href="#sec-4-9">4.9. Classes and properties</a>
<ul>
<li><a href="#sec-4-9-1">4.9.1. Classes</a></li>
<li><a href="#sec-4-9-2">4.9.2. Properties</a></li>
</ul>
</li>
<li><a href="#sec-4-10">4.10. Inference Rules</a></li>
<li><a href="#sec-4-11">4.11. Validation Rules</a></li>
<li><a href="#naf">4.12. Negation As Failure</a></li>
<li><a href="#aggregation">4.13. Aggregation</a></li>
<li><a href="#sec-4-14">4.14. Excel Integration</a>
<ul>
<li><a href="#sec-4-14-1">4.14.1. Eval</a></li>
<li><a href="#sec-4-14-2">4.14.2. Lookup</a></li>
</ul>
</li>
<li><a href="#sec-4-15">4.15. Arithmetics</a></li>
<li><a href="#sec-4-16">4.16. Function of</a></li>
<li><a href="#sec-4-17">4.17. Composed from</a></li>
<li><a href="#sec-4-18">4.18. Builtins</a>
<ul>
<li><a href="#sec-4-18-1">4.18.1. </a>
<ul>
<li><a href="#sec-4-18-1-1">4.18.1.1. booleanHasPropertyValue</a></li>
<li><a href="#sec-4-18-1-2">4.18.1.2. hasClass</a></li>
<li><a href="#sec-4-18-1-3">4.18.1.3. hasIndividual</a></li>
<li><a href="#sec-4-18-1-4">4.18.1.4. hasProperty</a></li>
<li><a href="#sec-4-18-1-5">4.18.1.5. hasPropertyValue</a></li>
<li><a href="#sec-4-18-1-6">4.18.1.6. hasPropertyValueOrDefault</a></li>
<li><a href="#sec-4-18-1-7">4.18.1.7. hasURI</a></li>
<li><a href="#sec-4-18-1-8">4.18.1.8. hasValue</a></li>
<li><a href="#sec-4-18-1-9">4.18.1.9. individualPropertyMaxCardinality</a></li>
<li><a href="#sec-4-18-1-10">4.18.1.10. individualPropertyMinCardinality</a></li>
<li><a href="#sec-4-18-1-11">4.18.1.11. isIndividual</a></li>
<li><a href="#sec-4-18-1-12">4.18.1.12. isNumeric</a></li>
<li><a href="#sec-4-18-1-13">4.18.1.13. notNumeric</a></li>
</ul>
</li>
<li><a href="#sec-4-18-2">4.18.2. </a>
<ul>
<li><a href="#sec-4-18-2-1">4.18.2.1. hasKeys</a></li>
<li><a href="#sec-4-18-2-2">4.18.2.2. hasMaxCardinality</a></li>
<li><a href="#sec-4-18-2-3">4.18.2.3. hasMinCardinality</a></li>
<li><a href="#sec-4-18-2-4">4.18.2.4. isDisjointWith</a></li>
<li><a href="#sec-4-18-2-5">4.18.2.5. isInDirectDomainOf</a></li>
<li><a href="#sec-4-18-2-6">4.18.2.6. isInDirectRangeOf</a></li>
<li><a href="#sec-4-18-2-7">4.18.2.7. isInDomainOf</a></li>
<li><a href="#sec-4-18-2-8">4.18.2.8. isInRangeOf</a></li>
<li><a href="#sec-4-18-2-9">4.18.2.9. isInverseOf</a></li>
<li><a href="#sec-4-18-2-10">4.18.2.10. isOWLClass</a></li>
<li><a href="#sec-4-18-2-11">4.18.2.11. isOWLDatatypeProperty</a></li>
<li><a href="#sec-4-18-2-12">4.18.2.12. isOWLFunctionalProperty</a></li>
<li><a href="#sec-4-18-2-13">4.18.2.13. isOWLInverseFunctionalProperty</a></li>
<li><a href="#sec-4-18-2-14">4.18.2.14. isOWLObjectProperty</a></li>
<li><a href="#sec-4-18-2-15">4.18.2.15. isOWLProperty</a></li>
<li><a href="#sec-4-18-2-16">4.18.2.16. isOWLSymmetricProperty</a></li>
<li><a href="#sec-4-18-2-17">4.18.2.17. isOWLTransitiveProperty</a></li>
<li><a href="#sec-4-18-2-18">4.18.2.18. isSubClassOf</a></li>
<li><a href="#sec-4-18-2-19">4.18.2.19. isSubPropertyOf</a></li>
<li><a href="#sec-4-18-2-20">4.18.2.20. isSuperClassOf</a></li>
<li><a href="#sec-4-18-2-21">4.18.2.21. isSuperPropertyOf</a></li>
</ul>
</li>
<li><a href="#sec-4-18-3">4.18.3. </a>
<ul>
<li><a href="#sec-4-18-3-1">4.18.3.1. avivaJoinList</a></li>
<li><a href="#sec-4-18-3-2">4.18.3.2. concatenateStrings</a></li>
<li><a href="#sec-4-18-3-3">4.18.3.3. count</a></li>
<li><a href="#sec-4-18-3-4">4.18.3.4. joinList</a></li>
<li><a href="#sec-4-18-3-5">4.18.3.5. joinListLast</a></li>
<li><a href="#sec-4-18-3-6">4.18.3.6. maxDecimals</a></li>
<li><a href="#sec-4-18-3-7">4.18.3.7. maxInts</a></li>
<li><a href="#sec-4-18-3-8">4.18.3.8. minDecimals</a></li>
<li><a href="#sec-4-18-3-9">4.18.3.9. minInts</a></li>
<li><a href="#sec-4-18-3-10">4.18.3.10. pickOne</a></li>
<li><a href="#sec-4-18-3-11">4.18.3.11. productDecimals</a></li>
<li><a href="#sec-4-18-3-12">4.18.3.12. sumDecimals</a></li>
<li><a href="#sec-4-18-3-13">4.18.3.13. sumInts</a></li>
</ul>
</li>
<li><a href="#sec-4-18-4">4.18.4. </a>
<ul>
<li><a href="#sec-4-18-4-1">4.18.4.1. anyStringToLocalName</a></li>
<li><a href="#sec-4-18-4-2">4.18.4.2. binaryBitRangeToInt</a></li>
<li><a href="#sec-4-18-4-3">4.18.4.3. binaryBitToBoolean</a></li>
<li><a href="#sec-4-18-4-4">4.18.4.4. cannonicalStringToInt</a></li>
<li><a href="#sec-4-18-4-5">4.18.4.5. capitalizedWordsSplitAndJoin</a></li>
<li><a href="#sec-4-18-4-6">4.18.4.6. castAs</a></li>
<li><a href="#sec-4-18-4-7">4.18.4.7. changeCaseFirstLetter</a></li>
<li><a href="#sec-4-18-4-8">4.18.4.8. dateTimeDate</a></li>
<li><a href="#sec-4-18-4-9">4.18.4.9. dateTimeTime</a></li>
<li><a href="#sec-4-18-4-10">4.18.4.10. decimal_int</a></li>
<li><a href="#sec-4-18-4-11">4.18.4.11. decimal_integer</a></li>
<li><a href="#sec-4-18-4-12">4.18.4.12. fixedSizeStringToInt</a></li>
<li><a href="#sec-4-18-4-13">4.18.4.13. float_bool</a></li>
<li><a href="#sec-4-18-4-14">4.18.4.14. float_int</a></li>
<li><a href="#sec-4-18-4-15">4.18.4.15. float_to_decimal</a></li>
<li><a href="#sec-4-18-4-16">4.18.4.16. floorDecimal</a></li>
<li><a href="#sec-4-18-4-17">4.18.4.17. gYearMonth</a></li>
<li><a href="#sec-4-18-4-18">4.18.4.18. hexBinaryBitRangeToInt</a></li>
<li><a href="#sec-4-18-4-19">4.18.4.19. hexBinaryBitRangeToLittleEndianInteger</a></li>
<li><a href="#sec-4-18-4-20">4.18.4.20. intFormat</a></li>
<li><a href="#sec-4-18-4-21">4.18.4.21. mergeOverlappingStrings</a></li>
<li><a href="#sec-4-18-4-22">4.18.4.22. normalizeStringToPrintableASCII</a></li>
<li><a href="#sec-4-18-4-23">4.18.4.23. replaceNonAlphaNumBy</a></li>
<li><a href="#sec-4-18-4-24">4.18.4.24. roundDecimal</a></li>
<li><a href="#sec-4-18-4-25">4.18.4.25. stringLanguageLiteral</a></li>
<li><a href="#sec-4-18-4-26">4.18.4.26. string_int</a></li>
<li><a href="#sec-4-18-4-27">4.18.4.27. string_integer</a></li>
<li><a href="#sec-4-18-4-28">4.18.4.28. to_string</a></li>
<li><a href="#sec-4-18-4-29">4.18.4.29. wordsToCamelCase</a></li>
</ul>
</li>
<li><a href="#sec-4-18-5">4.18.5. </a>
<ul>
<li><a href="#sec-4-18-5-1">4.18.5.1. dateFormat</a></li>
<li><a href="#sec-4-18-5-2">4.18.5.2. dateParts</a></li>
<li><a href="#sec-4-18-5-3">4.18.5.3. dateTimeFormat</a></li>
<li><a href="#sec-4-18-5-4">4.18.5.4. dateTimeSecondsTimeStamp</a></li>
<li><a href="#sec-4-18-5-5">4.18.5.5. deZone</a></li>
<li><a href="#sec-4-18-5-6">4.18.5.6. durationInSeconds</a></li>
<li><a href="#sec-4-18-5-7">4.18.5.7. endOfDay</a></li>
<li><a href="#sec-4-18-5-8">4.18.5.8. firstDayOfMonth</a></li>
<li><a href="#sec-4-18-5-9">4.18.5.9. firstWeekDayAtOrAfter</a></li>
<li><a href="#sec-4-18-5-10">4.18.5.10. lastDayOfMonth</a></li>
<li><a href="#sec-4-18-5-11">4.18.5.11. lastWeekDayAtOrBefore</a></li>
<li><a href="#sec-4-18-5-12">4.18.5.12. sameYearMonthAs</a></li>
<li><a href="#sec-4-18-5-13">4.18.5.13. startOfDay</a></li>
</ul>
</li>
<li><a href="#sec-4-18-6">4.18.6. </a>
<ul>
<li><a href="#sec-4-18-6-1">4.18.6.1. payment</a></li>
<li><a href="#sec-4-18-6-2">4.18.6.2. roundDown</a></li>
<li><a href="#sec-4-18-6-3">4.18.6.3. roundUp</a></li>
</ul>
</li>
<li><a href="#sec-4-18-7">4.18.7. </a>
<ul>
<li><a href="#sec-4-18-7-1">4.18.7.1. format</a></li>
</ul>
</li>
<li><a href="#sec-4-18-8">4.18.8. </a>
<ul>
<li><a href="#sec-4-18-8-1">4.18.8.1. indiv_uri</a></li>
<li><a href="#sec-4-18-8-2">4.18.8.2. individualComposedFrom</a></li>
<li><a href="#sec-4-18-8-3">4.18.8.3. individualDependsOnObjects</a></li>
<li><a href="#sec-4-18-8-4">4.18.8.4. individualDependsOnObjectsInOuts</a></li>
<li><a href="#sec-4-18-8-5">4.18.8.5. splitUri</a></li>
</ul>
</li>
<li><a href="#sec-4-18-9">4.18.9. </a>
<ul>
<li><a href="#sec-4-18-9-1">4.18.9.1. isIn</a></li>
<li><a href="#sec-4-18-9-2">4.18.9.2. isInIntegerRange</a></li>
<li><a href="#sec-4-18-9-3">4.18.9.3. naf</a></li>
</ul>
</li>
<li><a href="#sec-4-18-10">4.18.10. </a>
<ul>
<li><a href="#sec-4-18-10-1">4.18.10.1. ageInMonths</a></li>
<li><a href="#sec-4-18-10-2">4.18.10.2. ageInYears</a></li>
<li><a href="#sec-4-18-10-3">4.18.10.3. anyTime</a></li>
<li><a href="#sec-4-18-10-4">4.18.10.4. dayOfWeek</a></li>
<li><a href="#sec-4-18-10-5">4.18.10.5. durationFromNow</a></li>
<li><a href="#sec-4-18-10-6">4.18.10.6. everyDay</a></li>
<li><a href="#sec-4-18-10-7">4.18.10.7. everyDurationAccumulatingSinceUntil</a></li>
<li><a href="#sec-4-18-10-8">4.18.10.8. everyHour</a></li>
<li><a href="#sec-4-18-10-9">4.18.10.9. everyMonth</a></li>
<li><a href="#sec-4-18-10-10">4.18.10.10. everyYear</a></li>
<li><a href="#sec-4-18-10-11">4.18.10.11. now</a></li>
<li><a href="#sec-4-18-10-12">4.18.10.12. today</a></li>
</ul>
</li>
<li><a href="#sec-4-18-11">4.18.11. </a>
<ul>
<li><a href="#sec-4-18-11-1">4.18.11.1. decisionTable</a></li>
<li><a href="#sec-4-18-11-2">4.18.11.2. eval</a></li>
<li><a href="#sec-4-18-11-3">4.18.11.3. lookup</a></li>
</ul>
</li>
<li><a href="#sec-4-18-12">4.18.12. </a>
<ul>
<li><a href="#sec-4-18-12-1">4.18.12.1. abs</a></li>
<li><a href="#sec-4-18-12-2">4.18.12.2. add    (+)</a></li>
<li><a href="#sec-4-18-12-3">4.18.12.3. addDayTimeDurationToDate</a></li>
<li><a href="#sec-4-18-12-4">4.18.12.4. addDayTimeDurationToDateTime</a></li>
<li><a href="#sec-4-18-12-5">4.18.12.5. addDayTimeDurationToTime</a></li>
<li><a href="#sec-4-18-12-6">4.18.12.6. addDayTimeDurations</a></li>
<li><a href="#sec-4-18-12-7">4.18.12.7. addYearMonthDurationToDate</a></li>
<li><a href="#sec-4-18-12-8">4.18.12.8. addYearMonthDurationToDateTime</a></li>
<li><a href="#sec-4-18-12-9">4.18.12.9. addYearMonthDurations</a></li>
<li><a href="#sec-4-18-12-10">4.18.12.10. anyURI</a></li>
<li><a href="#sec-4-18-12-11">4.18.12.11. booleanNot</a></li>
<li><a href="#sec-4-18-12-12">4.18.12.12. ceiling</a></li>
<li><a href="#sec-4-18-12-13">4.18.12.13. contains</a></li>
<li><a href="#sec-4-18-12-14">4.18.12.14. containsIgnoreCase</a></li>
<li><a href="#sec-4-18-12-15">4.18.12.15. cos</a></li>
<li><a href="#sec-4-18-12-16">4.18.12.16. date</a></li>
<li><a href="#sec-4-18-12-17">4.18.12.17. dateTime</a></li>
<li><a href="#sec-4-18-12-18">4.18.12.18. dayTimeDuration</a></li>
<li><a href="#sec-4-18-12-19">4.18.12.19. divide    (/)</a></li>
<li><a href="#sec-4-18-12-20">4.18.12.20. divideDayTimeDuration</a></li>
<li><a href="#sec-4-18-12-21">4.18.12.21. divideYearMonthDuration</a></li>
<li><a href="#sec-4-18-12-22">4.18.12.22. empty</a></li>
<li><a href="#sec-4-18-12-23">4.18.12.23. endsWith</a></li>
<li><a href="#sec-4-18-12-24">4.18.12.24. equal    (&amp;#61;&amp;#61;)</a></li>
<li><a href="#sec-4-18-12-25">4.18.12.25. first</a></li>
<li><a href="#sec-4-18-12-26">4.18.12.26. floor</a></li>
<li><a href="#sec-4-18-12-27">4.18.12.27. greaterThan    (&amp;gt;)</a></li>
<li><a href="#sec-4-18-12-28">4.18.12.28. greaterThanOrEqual    (≥)</a></li>
<li><a href="#sec-4-18-12-29">4.18.12.29. integerDivide</a></li>
<li><a href="#sec-4-18-12-30">4.18.12.30. length</a></li>
<li><a href="#sec-4-18-12-31">4.18.12.31. lessThan    (&amp;lt;)</a></li>
<li><a href="#sec-4-18-12-32">4.18.12.32. lessThanOrEqual    (≤)</a></li>
<li><a href="#sec-4-18-12-33">4.18.12.33. listConcat</a></li>
<li><a href="#sec-4-18-12-34">4.18.12.34. listIntersection</a></li>
<li><a href="#sec-4-18-12-35">4.18.12.35. listSubtraction</a></li>
<li><a href="#sec-4-18-12-36">4.18.12.36. lowerCase</a></li>
<li><a href="#sec-4-18-12-37">4.18.12.37. matches</a></li>
<li><a href="#sec-4-18-12-38">4.18.12.38. max</a></li>
<li><a href="#sec-4-18-12-39">4.18.12.39. member</a></li>
<li><a href="#sec-4-18-12-40">4.18.12.40. min</a></li>
<li><a href="#sec-4-18-12-41">4.18.12.41. mod    (%)</a></li>
<li><a href="#sec-4-18-12-42">4.18.12.42. multiply    (*)</a></li>
<li><a href="#sec-4-18-12-43">4.18.12.43. multiplyDayTimeDuration</a></li>
<li><a href="#sec-4-18-12-44">4.18.12.44. multiplyYearMonthDuration</a></li>
<li><a href="#sec-4-18-12-45">4.18.12.45. normalizeSpace</a></li>
<li><a href="#sec-4-18-12-46">4.18.12.46. notEqual    (≠)</a></li>
<li><a href="#sec-4-18-12-47">4.18.12.47. pow    (^)</a></li>
<li><a href="#sec-4-18-12-48">4.18.12.48. replace</a></li>
<li><a href="#sec-4-18-12-49">4.18.12.49. resolveURI</a></li>
<li><a href="#sec-4-18-12-50">4.18.12.50. rest</a></li>
<li><a href="#sec-4-18-12-51">4.18.12.51. round</a></li>
<li><a href="#sec-4-18-12-52">4.18.12.52. roundAsAbsolute</a></li>
<li><a href="#sec-4-18-12-53">4.18.12.53. roundHalfToEven</a></li>
<li><a href="#sec-4-18-12-54">4.18.12.54. sin</a></li>
<li><a href="#sec-4-18-12-55">4.18.12.55. startsWith</a></li>
<li><a href="#sec-4-18-12-56">4.18.12.56. startsWithIgnoreCase</a></li>
<li><a href="#sec-4-18-12-57">4.18.12.57. stringConcat</a></li>
<li><a href="#sec-4-18-12-58">4.18.12.58. stringEqualIgnoreCase</a></li>
<li><a href="#sec-4-18-12-59">4.18.12.59. stringLength</a></li>
<li><a href="#sec-4-18-12-60">4.18.12.60. stringValuesConcat</a></li>
<li><a href="#sec-4-18-12-61">4.18.12.61. sublist</a></li>
<li><a href="#sec-4-18-12-62">4.18.12.62. substring</a></li>
<li><a href="#sec-4-18-12-63">4.18.12.63. substringAfter</a></li>
<li><a href="#sec-4-18-12-64">4.18.12.64. substringBefore</a></li>
<li><a href="#sec-4-18-12-65">4.18.12.65. subtract    (-)</a></li>
<li><a href="#sec-4-18-12-66">4.18.12.66. subtractDateTimesYieldingDayTimeDuration</a></li>
<li><a href="#sec-4-18-12-67">4.18.12.67. subtractDateTimesYieldingYearMonthDuration</a></li>
<li><a href="#sec-4-18-12-68">4.18.12.68. subtractDates</a></li>
<li><a href="#sec-4-18-12-69">4.18.12.69. subtractDayTimeDurationFromDate</a></li>
<li><a href="#sec-4-18-12-70">4.18.12.70. subtractDayTimeDurationFromDateTime</a></li>
<li><a href="#sec-4-18-12-71">4.18.12.71. subtractDayTimeDurationFromTime</a></li>
<li><a href="#sec-4-18-12-72">4.18.12.72. subtractDayTimeDurations</a></li>
<li><a href="#sec-4-18-12-73">4.18.12.73. subtractTimes</a></li>
<li><a href="#sec-4-18-12-74">4.18.12.74. subtractYearMonthDurationFromDate</a></li>
<li><a href="#sec-4-18-12-75">4.18.12.75. subtractYearMonthDurationFromDateTime</a></li>
<li><a href="#sec-4-18-12-76">4.18.12.76. subtractYearMonthDurations</a></li>
<li><a href="#sec-4-18-12-77">4.18.12.77. tan</a></li>
<li><a href="#sec-4-18-12-78">4.18.12.78. time</a></li>
<li><a href="#sec-4-18-12-79">4.18.12.79. translate</a></li>
<li><a href="#sec-4-18-12-80">4.18.12.80. unaryMinus</a></li>
<li><a href="#sec-4-18-12-81">4.18.12.81. unaryPlus</a></li>
<li><a href="#sec-4-18-12-82">4.18.12.82. upperCase</a></li>
<li><a href="#sec-4-18-12-83">4.18.12.83. yearMonthDuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-5">5. Java API</a>
<ul>
<li><a href="#sec-5-1">5.1. Generating the Java API</a></li>
<li><a href="#sec-5-2">5.2. Generated Code for Namespaces</a></li>
<li><a href="#sec-5-3">5.3. Initializing the generated code</a></li>
<li><a href="#sec-5-4">5.4. Generated Code for OWL Classes</a></li>
<li><a href="#sec-5-5">5.5. Generated Code for OWL Class Hierarchy</a>
<ul>
<li><a href="#sec-5-5-1">5.5.1. Up-casting</a></li>
<li><a href="#sec-5-5-2">5.5.2. Down-casting</a></li>
<li><a href="#sec-5-5-3">5.5.3. Arbitrary Casting</a></li>
</ul>
</li>
<li><a href="#sec-5-6">5.6. Accessing Individuals</a></li>
<li><a href="#sec-5-7">5.7. Generated Code for Properties</a></li>
<li><a href="#sec-5-8">5.8. Querying the ontology: EasySwrl</a></li>
<li><a href="#sec-5-9">5.9. URIs</a></li>
<li><a href="#sec-5-10">5.10. Java Annotations</a></li>
<li><a href="#java_datatypes">5.11. Java Datatypes</a>
<ul>
<li><a href="#sec-5-11-1">5.11.1. Default Mappings</a></li>
<li><a href="#sec-5-11-2">5.11.2. Custom Mappings</a></li>
<li><a href="#sec-5-11-3">5.11.3. Custom Converters</a></li>
</ul>
</li>
<li><a href="#sec-5-12">5.12. Vaadin integration</a></li>
</ul>
</li>
<li><a href="#sec-6">6. C# API</a>
<ul>
<li><a href="#sec-6-1">6.1. Executing validation rules</a></li>
</ul>
</li>
<li><a href="#sec-7">7. Tools</a>
<ul>
<li><a href="#hedwig">7.1. Hedwig</a>
<ul>
<li><a href="#sec-7-1-1">7.1.1. Commmand Line Options</a></li>
<li><a href="#sec-7-1-2">7.1.2. Ontology annotations for Java</a></li>
</ul>
</li>
<li><a href="#sec-7-2">7.2. Pigwidgeon</a></li>
<li><a href="#musache">7.3. Mustache</a>
<ul>
<li><a href="#sec-7-3-1">7.3.1. Supported tag types</a></li>
</ul>
</li>
<li><a href="#sec-7-4">7.4. excel2rdf</a></li>
<li><a href="#sec-7-5">7.5. ontstats</a></li>
</ul>
</li>
<li><a href="#sec-8">8. Advanced Features</a>
<ul>
<li><a href="#sec-8-1">8.1. Engineering</a>
<ul>
<li><a href="#sec-8-1-1">8.1.1. Functional predicate rule priority heuristic</a></li>
<li><a href="#sec-8-1-2">8.1.2. Constant memoization</a></li>
</ul>
</li>
<li><a href="#sec-8-2">8.2. TBox Reasoning</a>
<ul>
<li><a href="#sec-8-2-1">8.2.1. TBox in Java using TBoxModel</a></li>
<li><a href="#sec-8-2-2">8.2.2. TBox in Java using reflection</a></li>
<li><a href="#sec-8-2-3">8.2.3. TBox as a model</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> ODASE</h3>
<div class="outline-text-3" id="text-1-1">
<p>
ODASE (<i>Ontology Driven Architecture and Services
Engineering</i>) offers a new way to build and run flexible, reliable and
high-quality enterprise software.
</p>

<p>
Thanks to ODASE, building high-quality enterprise software is cheaper and
quicker.
</p>

<p>
Thanks to ODASE:
</p>

<ul class="org-ul">
<li>we model the business problem (describing in logic the concepts, the rules
and the processes);
</li>

<li>we turn that model into a mainstream programming language automatically
(e.g. in Java and C#).
</li>
</ul>

<p>
We can then add the remaining code to get a running and scalable application
which can target different architectures and platforms.
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Semantic Languages</h3>
<div class="outline-text-3" id="text-1-2">
<p>
An ontology formally represents knowledge as a set of concepts within a
domain, and the relationships between pairs of concepts. It can be used to
model a domain and support reasoning about entities.
</p>

<p>
In theory, an ontology is a &ldquo;formal, explicit specification of a shared
conceptualisation&rdquo;. An ontology renders shared vocabulary and taxonomy which
models a domain with the definition of objects/concepts, as well as their
properties and relations.
</p>

<p>
Ontologies are the structural frameworks for organizing information and are
used as a form of knowledge representation about the world or some part of it.
</p>
</div>

<div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> OWL</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
The Web Ontology Language, OWL, is a language for authoring ontologies. The
language is characterized by formal semantics and RDF/XML-based
serializations.
</p>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> SWRL</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
The Semantic Web Rule Language, SWRL, is a rule language designed to integrate
closely with OWL. SWRL increases the expressivity of OWL and makes it possible
to model more domain knowledge than OWL alone. We use SWRL to model parts of
the business domain that are not easily or naturally modelled with OWL.
</p>

<p>
The SWRL rules can be used in a production rule style where they are used to
compute outputs, or they can be used for validation.
</p>

<p>
SWRL builtins also provide a very natural extension mechanism whereby the
modelling language can be enhanced with domain-specific builtins. For example
in a bio-tech system we built, we modelled some chemical properties of
genomics macro-molecules (such as DNA strain) in OWL. We then added special
builtins for computing the melting temperature or the molecular weight of such
bio-chemical compounds based on those properties. In another project we
developed custom SWRL builtins for evaluating formulas in external Excel
spreadsheets. This allowed certain business formulas to be defined in
spreadsheets which were then directly executed by the system.
</p>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> Sword</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
Sword is a simple, plain text language for defining OWL ontologies with SWRL
rules. It is designed to be easily readable and writable using a standard text
editor. See <a href="#sword_reference">Sword</a> section for more details.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> API Generation</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Thanks to <a href="#hedwig">Hedwig</a>, the ODASE platform offers the ability to generate
<i>Application Programming Interfaces</i> (API) for several programming languages.
</p>

<p>
The generated code provides an interface to the ontologies, allowing for
type-safe querying and updating of the ontologies in Java, C# and Mercury.
</p>

<p>
See section on Hedwig for details.
</p>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Using Ontologies with ODASE</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> General Principles</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
In ODASE, all the tools that do reasoning (such as the Workbench, Hedwig,
etc.) need the following elements:
</p>

<ul class="org-ul">
<li>a <i>catalog</i>: necessary to resolve logical stores, ontology URIs, imports, etc;
</li>

<li>a set of <i>store URIs</i>: can be plain ontology files (OWL/RDF/SWD), ontology
URIs and named store URIs;
</li>

<li>and, optionally, a <i>reasoner URI</i> (only used to optimize the reasoning, based
on engineering; see Engineering section for more details).
</li>
</ul>

<p>
All the tools and APIs will provide options or methods to specify these
elements.
</p>

<p>
As an example, here are the options for using Hedwig to generate the Java API
for the person ontology:
</p>

<div class="org-src-container">

<pre class="src src-sh">hedwig --generate-java --package-name com.example
        --catalog ../catalog.xml
        http://example.com/person.swd ../hedwig_conf.swd
</pre>
</div>

<p>
In this example:
</p>

<ul class="org-ul">
<li>the catalog is specified using the <code>--catalog</code> option;
</li>

<li>the store URIs passed to Hedwig are: <a href="http://example.com/person.swd">http://example.com/person.swd</a> (an
ontology URI) and <code>../hedwig_conf.swd</code> (a plain ontology file).
</li>
</ul>

<p>
In this example, the catalog file would look like this:
</p>

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">catalog</span> <span class="org-nxml-namespace-attribute-xmlns">xmlns</span>=<span class="org-nxml-namespace-attribute-value-delimiter">"</span><span class="org-nxml-namespace-attribute-value">urn:oasis:names:tc:entity:xmlns:xml:catalog</span><span class="org-nxml-namespace-attribute-value-delimiter">"</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">uri</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://example.com/person.swd</span><span class="org-nxml-attribute-value-delimiter">"</span> <span class="org-nxml-attribute-local-name">uri</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">ontologies/person.swd</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>

    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nextCatalog</span> <span class="org-nxml-attribute-local-name">catalog</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">../odase-platform/ontologies/catalog.xml</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">catalog</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Stores</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Store URI</h3>
<div class="outline-text-3" id="text-2-1">
<p>
A <i>store URI</i> is used to specify where the information/knowledge is located (it
identifies a physical RDF store). In general, a store URI can be:
</p>

<ul class="org-ul">
<li>a path to a plain ontology file (OWL, RDF, Sword, n-triples, turtle); for
instance: <code>../ontologies/mydomain.owl</code>;
</li>
</ul>

<ul class="org-ul">
<li>an ontology URI (which can be mapped to a file via the catalog); for
instance: <a href="http://example.com/person.swd">http://example.com/person.swd</a> which would map to the file
<code>../ontologies/person.swd</code>;
</li>

<li>a named store URI with a corresponding mapping in the catalog; for instance:
<a href="http://example.com#configurationStore">http://example.com#configurationStore</a>, which would map to some configuration
ontology (this is useful when doing engineering and abstracting stores, see
Engineering section for more details).
</li>
</ul>

<p>
Note that other types of stores (such as database stores) can be used via
special URIs (see section about <a href="#store_types">Store Types</a> for more details).
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> XML Catalogs</h3>
<div class="outline-text-3" id="text-2-2">
<p>
<i>XML Catalogs</i> is an OASIS standard providing a way to <i>map the information in an
XML external identifier into a URI reference for the desired resource</i> (for
more details, see
<a href="https://www.oasis-open.org/committees/download.php/14810/xml-catalogs.pdf">https://www.oasis-open.org/committees/download.php/14810/xml-catalogs.pdf</a>)
</p>

<p>
In ODASE, XML catalogs are used to map logical URIs representing ontologies or
stores into <i>physical</i> URIs, typically files or databases.
</p>

<p>
The ODASE platform provides its own XML catalog (located in
<code>platform/ontologies/catalog.xml</code>) which maps standard and ODASE specific
ontology URIs to their containing files (which are located in sub-directories
of <code>platform/ontologies</code>).
</p>

<p>
Typically, we use 3 catalog elements:
</p>

<ul class="org-ul">
<li><code>uri</code>: it maps a URI to an alternate URI (typically a file); the following
example maps our <i>Person</i> ontology URI to the file where it is defined:

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">uri</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://example.com/person.swd</span><span class="org-nxml-attribute-value-delimiter">"</span>
     <span class="org-nxml-attribute-local-name">uri</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">../ontologies/person.swd</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</li>

<li><code>rewriteUri</code>: it rewrites the beginning of a URI reference; the following
example maps any URI reference starting with <code>http://example.com/myproject/</code>
to the <code>../myproject/ontologies/</code> folder (the URI
<code>http://example.com/myproject/mymodel.owl</code> will be mapped to the file
<code>../myproject/ontologies/mymodel.owl</code>):

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">rewriteURI</span> <span class="org-nxml-attribute-local-name">uriStartString</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://example.com/myproject/</span><span class="org-nxml-attribute-value-delimiter">"</span>
            <span class="org-nxml-attribute-local-name">rewritePrefix</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">../myproject/ontologies/</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</li>

<li><code>nextCatalog</code>: indicates an additional catalog entry file to be considered
during the resolution process; the following example shows how to use the
standard ODASE catalog:

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nextCatalog</span> <span class="org-nxml-attribute-local-name">catalog</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">platform/ontologies/catalog.xml</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</li>
</ul>

<p>
Here&rsquo;s an example of a typical catalog file:
</p>

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">catalog</span> <span class="org-nxml-namespace-attribute-xmlns">xmlns</span>=<span class="org-nxml-namespace-attribute-value-delimiter">"</span><span class="org-nxml-namespace-attribute-value">urn:oasis:names:tc:entity:xmlns:xml:catalog</span><span class="org-nxml-namespace-attribute-value-delimiter">"</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">uri</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://example.com/person.swd</span><span class="org-nxml-attribute-value-delimiter">"</span> <span class="org-nxml-attribute-local-name">uri</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">../ontologies/person.swd</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">rewriteURI</span> <span class="org-nxml-attribute-local-name">uriStartString</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http:/example.com/myproject/</span><span class="org-nxml-attribute-value-delimiter">"</span> <span class="org-nxml-attribute-local-name">rewritePrefix</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">../myproject/ontologies/</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nextCatalog</span> <span class="org-nxml-attribute-local-name">catalog</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">../platform/ontologies/catalog.xml</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">catalog</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-store_types" class="outline-3">
<h3 id="store_types"><a id="sec-2-3" name="sec-2-3"></a><span class="section-number-3">2.3</span> Store Types</h3>
<div class="outline-text-3" id="text-store_types">

<p>
ODASE support 3 kinds of RDF stores:
</p>

<ul class="org-ul">
<li>memory stores: RDF triples are stored in memory;
</li>

<li>SQL stores: RDF triples are stored in SQL databases;
</li>

<li>native RDF stores.
</li>
</ul>
</div>

<div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> Memory Stores</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
By default, ODASE loads RDF triples in memory stores: for each store URI
resolved to an ontology file (<code>.swd</code>, <code>.owl</code>, <code>.rdf</code>, <code>.nt</code>, <code>.ttl</code>, etc.), ODASE
creates a memory store and loads its triples (after resolving the URI using
the catalog) into it.
</p>

<p>
The internal representation of the ODASE memory store being a <i>trie</i>, it is also
called a <i>rdftrie</i>.
</p>

<p>
In some case, it could be useful to specify the usage of a memory store. To do
so, you can use the <code>rdfstore</code> URI scheme followed by the <code>rdftrie</code> keyword. The
rdftrie keyword takes an optional <code>init</code> parameter.
</p>

<p>
Examples:
</p>

<ul class="org-ul">
<li><code>rdfstore:rdftrie</code> represents an empty memory store;
</li>

<li><code>rdfstore:rdftrie?init=(http://example.com/test.owl)&amp;init=file.nt</code> will create
a memory store with the RDF triples from <code>file.nt</code> and the RDF triples
resulting from the resolution of <code>http://example.com/test.owl</code>.
</li>
</ul>

<p>
Catalog example:
</p>

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">uri</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://example.com/ontologies/myproject.owl#sessionStore</span><span class="org-nxml-attribute-value-delimiter">"</span>
     <span class="org-nxml-attribute-local-name">uri</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">rdfstore:rdftrie</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-3-2" class="outline-4">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> SQL Stores</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
SQL stores are useful when you need the RDF triples to be persisted in SQL
databases.
</p>

<p>
ODASE supports 2 types of SQL stores:
</p>

<ul class="org-ul">
<li>rdfSql, where the database uses a generic schema;
</li>

<li>rdfHedwig, where the database uses a model-specific schema generated by
Hedwig.
</li>
</ul>

<p>
In ODASE, SQL stores support JDBC, ADO.NET, ODBC and can be used with the most
common databases (MySql, SQL Server, Oracle, DB2, HyperSQL).
</p>
</div>

<div id="outline-container-sec-2-3-2-1" class="outline-5">
<h5 id="sec-2-3-2-1"><span class="section-number-5">2.3.2.1</span> rdfSql</h5>
<div class="outline-text-5" id="text-2-3-2-1">
<p>
rdfSql is an RDF store on top of a standard SQL database. It uses a generic
schema and RDF triples are stored in one single table (there are also tables
for storing parts of URIs, for performance).
</p>

<p>
rdfSql is actually a quad-store, meaning that the same database can hold
multiple named RDF graphs. The RDF triples associated with different segments
are stored in different physical tables.
</p>

<p>
The store URI for an rdfSql store is <code>rdfstore:rdfsql:&lt;ConnectionURI/segment&gt;</code>.
</p>

<p>
The URI can also contain the several optional functional arguments:
</p>

<ul class="org-ul">
<li><code>deadlock_retry_attempts=&lt;INT&gt;</code> (default is 0);
</li>

<li><code>check_triple_exists_before_assert=&lt;true|false&gt;</code> (default is true);
</li>

<li><code>batch_size=&lt;INT&gt;</code> (default is 50).
</li>
</ul>

<p>
Make sure you use consistent parameters separators that corresponds with the
ConnectionURI syntax (<code>;</code> or <code>&amp;</code>, but not both).
</p>

<p>
For instance, for a JDBC connection over MySql:
<code>rdfstore:rdfsql:jdbc:mysql://server123/db456/segment_1?user=u&amp;password=p&amp;deadlock_retry_attempts=5</code>.
</p>

<p>
To use a JDBC connection pool in java using <code>SwrlKnowledgeBase</code>, use
<code>odase.RdfDataStoreGetter</code>:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-constant">javax</span>.<span class="org-constant">sql</span>.<span class="org-type">DataSource</span> <span class="org-variable-name">dataSource</span> = ...;
connectionId = <span class="org-string">"myconnection"</span>;
storeUri = <span class="org-string">"rdfstore:rdfsql:jdbc:javax.sql.DataSource:"</span> + connectionId
    + <span class="org-string">"/segment_1"</span>;

kb = <span class="org-keyword">new</span> <span class="org-type">SwrlKnowledgeBase</span>(<span class="org-string">"../catalog.xml"</span>, <span class="org-comment-delimiter">// </span><span class="org-comment">catalog</span>
   <span class="org-string">""</span>, <span class="org-comment-delimiter">// </span><span class="org-comment">reasoner id</span>
   Arrays.asList(<span class="org-keyword">new</span> <span class="org-type">String</span>[]{storeUri}), <span class="org-comment-delimiter">// </span><span class="org-comment">store URIs</span>
   storeUri, <span class="org-comment-delimiter">// </span><span class="org-comment">updatable store URI</span>
   Arrays.asList(
      RdfDataStoreGetter.getRdfSqlDataSourceGetter(connectionId, dataSource)), <span class="org-comment-delimiter">// </span><span class="org-comment">custom store getters</span>
   <span class="org-keyword">new</span> <span class="org-type">FastConfig</span>()); <span class="org-comment-delimiter">// </span><span class="org-comment">reasoner configuration</span>
</pre>
</div>

<p>
This code associates the ID <code>myconnection</code> to the <code>DataSource</code> data source, so
that the URI <code>rdfstore:rdfsql:jdbc:javax.sql.DataSource:myconnection/segment_1</code>
corresponds to an rdfSql store on <code>segment_1</code> for which the <code>dataSource</code> is used
to get connections.
</p>

<p>
Here&rsquo;s another example of Java code using an HyperSQL database:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">String</span> <span class="org-variable-name">hsqlUri</span> = <span class="org-string">"rdfstore:rdfsql:jdbc:hsqldb:file:testdb/segment_1"</span>;
<span class="org-type">SwrlKnowledgeBase</span> <span class="org-variable-name">knowledgeBase</span> = <span class="org-keyword">new</span> <span class="org-type">SwrlKnowledgeBase</span>(<span class="org-string">"catalog.xml"</span>, <span class="org-string">"http://myreasoner"</span>,
                Arrays.asList(<span class="org-string">"http://example.com/monmodele.owl"</span>, hsqlUri),
                hsqlUri,
                <span class="org-keyword">new</span> <span class="org-type">FastConfig</span>());
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-3-2-2" class="outline-5">
<h5 id="sec-2-3-2-2"><span class="section-number-5">2.3.2.2</span> rdfHedwig</h5>
<div class="outline-text-5" id="text-2-3-2-2">
<p>
rdfHedwig is an RDF store on top of a standard SQL database. It uses a
specific schema, generated by Hedwig, and the RDF triples are stored in
several tables.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2-3-3" class="outline-4">
<h4 id="sec-2-3-3"><span class="section-number-4">2.3.3</span> Native Stores</h4>
<div class="outline-text-4" id="text-2-3-3">
<p>
ODASE allows to use native RDF stores. Currently, it supports Oracle <i>RDF
Semantic Graph</i>.
</p>
</div>

<div id="outline-container-sec-2-3-3-1" class="outline-5">
<h5 id="sec-2-3-3-1"><span class="section-number-5">2.3.3.1</span> rdfOracle</h5>
<div class="outline-text-5" id="text-2-3-3-1">
<p>
rdfOracle is an RDF store on top of Oracle <i>RDF Semantic Graph</i>. It stores RDF
triples into Oracle&rsquo;s native RDF store.
</p>

<p>
Example:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">static</span> <span class="org-type">String</span> <span class="org-variable-name">ndsNS</span> = <span class="org-string">"http://nds.example.com/nds.swd#"</span>;
<span class="org-keyword">static</span> <span class="org-type">String</span> <span class="org-variable-name">xsdNS</span> = <span class="org-string">"http://www.w3.org/2001/XMLSchema#"</span>;
<span class="org-keyword">static</span> <span class="org-type">String</span> <span class="org-variable-name">oracleConnectionString</span> = <span class="org-string">"jdbc:oracle:thin:sem/sem@vm-oracle:1522:orcl"</span>;
<span class="org-keyword">private</span> <span class="org-type">SwrlKnowledgeBase</span> <span class="org-variable-name">kb</span>;
<span class="org-keyword">private</span> <span class="org-type">TBoxModel</span> <span class="org-variable-name">tbox</span>;
<span class="org-keyword">private</span> <span class="org-keyword">final</span> <span class="org-type">String</span> <span class="org-variable-name">oracleUri</span> = <span class="org-string">"rdfstore:rdforacle:"</span> + oracleConnectionString + <span class="org-string">"?table=FAMILY_RDF_DATA&amp;model=family"</span>;
<span class="org-comment-delimiter">// </span><span class="org-comment">rdfstore:rdforacle:jdbc:oracle:thin:user/pass@localhost:1521:sid?table=my_rdf_data&amp;model=my_rdf_model&amp;rules=my_rulebase,RDFS</span>
<span class="org-keyword">private</span> <span class="org-keyword">final</span> <span class="org-type">String</span> <span class="org-variable-name">catalog</span> = <span class="org-string">"../catalog.xml"</span>;
</pre>
</div>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Workbench</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Editing</h3>
<div class="outline-text-3" id="text-3-1">
<p>
The Worbench offers a module dedicated to Sword rules editing with built-in
validation, auto-completion, and other specific features. For details about
the Sword syntax and features, please see <a href="#sword_reference">Sword</a> section.
</p>
</div>

<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1"><span class="section-number-4">3.1.1</span> Auto completion</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Auto completion helps to complete keywords of rules based on the imported
ontologies of the current Sword file.
</p>

<p>
The completion is activated by pressing <code>CTRL-SPACE</code>.
</p>

<p>
Note that the completion knows about all the classes and properties of the
imported ontologies. But, the current version of the completion does not know
about namespace abbreviation. This means that the completion only starts after
the <code>:</code> and will show all the classes and properties (not only the ones in the
specified namespace).
</p>
</div>
</div>

<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2"><span class="section-number-4">3.1.2</span> Folding</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
Folding allows to show and hide the content of rules.
</p>
<p>
On the left side of the editor, small <code>-</code> icons allow to click with the mouse to
collapse the content of that section. When collapsed, the <code>+</code> icon allows to
show the content of the corresponding section.
</p>

<p>
All sections of the Sword document can be collapsed or un-collapsed from the
context menu with a right click on the editor.
</p>
</div>
</div>

<div id="outline-container-sec-3-1-3" class="outline-4">
<h4 id="sec-3-1-3"><span class="section-number-4">3.1.3</span> Errors</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
Errors and warnings in the Sword file are automatically reported on the fly in
two places:
</p>

<ul class="org-ul">
<li>in the small right bar where little red or yellow squares show each error;
the full description of the error can be seen by hovering with the mouse
over the square;
</li>

<li>at the bottom of the window, where there is a list of errors which can be
double clicked to put the cursor at the line where the error is.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Browsing</h3>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> Explaining</h3>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> Querying</h3>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> Testing</h3>
</div>

<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> Mustache template</h3>
<div class="outline-text-3" id="text-3-6">
<p>
ODASE supports mustache templates <a href="https://mustache.github.io/">https://mustache.github.io/</a>.
</p>

<pre class="example">
import &lt;http://nds.example.com/nds.swd&gt; as pizza.

{{#is a pizza:Pizza}}
    {{.}} -&gt; {{pizza:price}}
    {{#is a pizza:ExpensivePizza}}(expensive){{/is a pizza:ExpensivePizza}}
    {{^is a pizza:ExpensivePizza}}cheap?{{/is a pizza:ExpensivePizza}}
    {{#-last}}last{{/-last}}
    {{^-first}}not first{{/-first}}
{{/is a pizza:Pizza}}
</pre>
</div>
</div>
</div>


<div id="outline-container-sword_reference" class="outline-2">
<h2 id="sword_reference"><a id="sec-4" name="sec-4"></a><span class="section-number-2">4</span> Sword</h2>
<div class="outline-text-2" id="text-sword_reference">

<p>
Sword is a simple, plain text language for defining OWL ontologies with SWRL
rules. It is designed to be easily readable and writable using a standard text
editor.
</p>

<p>
Unlike Turtle and other RDF plain text languages, Sword contains syntax for
defining OWL classes and properties and SWRL rules, without having to
explicitly write out all the RDF triples used to represent those constructs.
</p>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Structure of a Sword file</h3>
<div class="outline-text-3" id="text-4-1">
<p>
By convention, the extension used for Sword files is <code>.swd</code>.
</p>

<p>
In a Sword file, each &ldquo;sentence&rdquo; is called a <i>declaration</i> and each declaration
always ends in a period.
</p>

<p>
A Sword file complies with the following structure:
</p>

<ul class="org-ul">
<li>the first line always defines the URI of the ontology (<code>ontology</code> keyword);
</li>
<li>next, you get a list of imported ontologies (<code>import</code> keyword);
</li>
<li>next, you get a list of prefixes/aliases of ontologies (<code>prefix</code> keyword);
</li>
<li>next, you get other declarations.
</li>
</ul>

<p>
XXX What&rsquo;s the difference(s) between imports and prefixes?
</p>

<p>
Here&rsquo;s an example of a typical Sword file header:
</p>

<div class="org-src-container">

<pre class="src src-sword">ontology &lt;http://example.com/patients.swd&gt;.

import &lt;http://example.com/hospitals.owl&gt; as hospitals.
import &lt;http://example.com/medicines.owl&gt; as medicines.

prefix amb &lt;http://example.com/ambulances.owl#&gt;.

# Other declarations such as facts, classes and rules...
</pre>
</div>

<p>
Note that, in Sword:
</p>

<ul class="org-ul">
<li>full URIs are written between angle brackets (<code>&lt;URI&gt;</code>);
</li>
<li>each declaration ends in a period (<code>.</code>);
</li>
<li>comment lines start with a hash (<code>#</code>).
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Ontology</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">

<pre class="src src-sword">ontology &lt;URI&gt;.
</pre>
</div>

<p>
Defines the URI of the ontology. This must be the first declaration of any
Sword file. It appears only once per file.
</p>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Import</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">

<pre class="src src-sword">import &lt;URI&gt; [as ALIAS].
</pre>
</div>

<p>
Imports an ontology and creates an alias.
</p>

<p>
The alias part is optional. It creates an alias (namespace prefix) for the
imported URI, which can be used to write contracted URIs.
</p>

<p>
Note that a <code>#</code> character is automatically inserted after the imported URI when
its alias is used to form a new URI.
</p>

<p>
Example:
</p>

<div class="org-src-container">

<pre class="src src-sword">import &lt;http://example.com/hospitals.owl&gt; as hospitals.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Prefix</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">

<pre class="src src-sword">prefix ALIAS &lt;URI&gt;.
</pre>
</div>

<p>
Defines additional URI aliases.
</p>

<p>
Aliases defined in this way do not get a <code>#</code> character inserted after the URI,
so if one is required it must be added in the URI.
</p>

<p>
Example:
</p>

<div class="org-src-container">

<pre class="src src-sword">prefix amb &lt;http://example.com/ambulances.owl#&gt;.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> Predefined namespace prefixes</h3>
<div class="outline-text-3" id="text-4-5">
<p>
The following namespace prefixes are predefined:
</p>

<div class="org-src-container">

<pre class="src src-sword">prefix owl     &lt;http://www.w3.org/2002/07/owl#&gt;.
prefix rdf     &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;.
prefix rdfs    &lt;http://www.w3.org/2000/01/rdf-schema#&gt;.
prefix swrl    &lt;http://www.w3.org/2003/11/swrl#&gt;.
prefix swrlb   &lt;http://www.w3.org/2003/11/swrlb#&gt;.
prefix xsd     &lt;http://www.w3.org/2001/XMLSchema#&gt;.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><span class="section-number-3">4.6</span> URIs</h3>
<div class="outline-text-3" id="text-4-6">
<p>
In Sword, URIs can be written in 3 ways:
</p>

<ul class="org-ul">
<li>a full URI is written between angle brackets (<code>&lt;URI&gt;</code>);
</li>

<li>a qualified name is composed by a prefix followed by a colon and a name
(<code>PREFIX:NAME</code>); the resulting URI is composed by the prefix followed by the
name; the prefix can be predefined or defined by import or prefix
declaration;
</li>

<li>unqualified names are just single names (<code>:NAME</code>); the resulting URI is
composed by the URI of the ontology followed by the name.
</li>
</ul>

<p>
Examples:
</p>

<div class="org-src-container">

<pre class="src src-sword">&lt;http://example.com/patients.swd#pete&gt;
patients:pete
</pre>
</div>
</div>
</div>

<div id="outline-container-sword_literals" class="outline-3">
<h3 id="sword_literals"><a id="sec-4-7" name="sec-4-7"></a><span class="section-number-3">4.7</span> Literals</h3>
<div class="outline-text-3" id="text-sword_literals">

<p>
Literals are used to identify values such as numbers, dates or strings.
Anything represented by a literal could also be represented by a URI, but it
is often more convenient or intuitive to use literals.
</p>

<p>
A literal may be the object of an RDF statement, but not the subject or the
predicate.
</p>

<p>
For literals, Sword conforms to the Turtle syntax.
</p>

<p>
A literal can be:
</p>

<ul class="org-ul">
<li>an integer, such as <code>12</code>, which resolves to the type <code>xsd:int</code>;
</li>
<li>a decimal number, such as <code>3.14</code>, which resolves to the type <code>xsd:decimal</code>;
</li>
<li>a number in scientific notation, such as <code>1.0e2</code>, which resolves to the type <code>xsd:double</code>;
</li>
<li>one of the words <code>true</code> or <code>false</code>, which resolves to type <code>xsd:boolean</code>;
</li>
<li>a double-quoted string literal.
</li>
</ul>

<p>
String literals may optionally be followed by a tag. Such literals are called
<i>tagged</i> string literals (in opposition to <i>untagged</i> string literals). A tag can
be:
</p>

<ul class="org-ul">
<li>either a <i>type tag</i> <code>^^</code>, such as <code>^^xsd:decimal</code>;
</li>
<li>or a <i>language tag</i> <code>@</code>, such as <code>@en</code>.
</li>
</ul>

<p>
An untagged string literal always resolves to the type <code>xsd:string</code>:
</p>

<div class="org-src-container">

<pre class="src src-sword">"This is an untagged string literal"
</pre>
</div>

<p>
A type-tagged string literal resolves to the type defined in the tag (it can
be any XSD type):
</p>

<div class="org-src-container">

<pre class="src src-sword">"80.3"^^xsd:decimal
"12"^^xsd:int
</pre>
</div>

<p>
A language-tagged string literal resolves to plain RDF literals:
</p>

<div class="org-src-container">

<pre class="src src-sword">"This is a plain literal with language specification"@en
"Bonjour"@fr
</pre>
</div>

<p>
To create a plain RDF literal with no language, simply use an empty language
tag:
</p>

<div class="org-src-container">

<pre class="src src-sword">"Plain literal with no specific language"@
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8"><span class="section-number-3">4.8</span> Facts</h3>
<div class="outline-text-3" id="text-4-8">
<p>
Sword has syntax for defining instances of a class or values of a property.
These declarations are generally of the form <code>&lt;subject&gt; &lt;predicate&gt; &lt;object&gt;</code>,
very similar to the Turtle syntax.
</p>
</div>

<div id="outline-container-sec-4-8-1" class="outline-4">
<h4 id="sec-4-8-1"><span class="section-number-4">4.8.1</span> Instances of a class</h4>
<div class="outline-text-4" id="text-4-8-1">
<p>
An individual can be declared as a member of some class. For instance, the
individual <code>pete</code> is member of the class <code>Male</code>:
</p>

<div class="org-src-container">

<pre class="src src-sword">pete is a :Male.
</pre>
</div>

<p>
Note that here we used unqualified names for the individual and the class. An
unqualified name is converted to a URI by prepending the ontology URI followed
by <code>#</code>. For more details on URIs, please see <a href="#sword_literals">Literals</a>.
</p>

<p>
The <code>is a</code> corresponds to <code>rdf:type</code> (note that in Turtle syntax, <code>rdf:type</code>
shorthand notation is <code>a</code>, but we consider <code>is a</code> to be more explicit).
</p>

<p>
So, if the above item appeared in the ontology with the URI
<a href="http://example.com/patients.swd">http://example.com/patients.swd</a>, it would be equivalent to:
</p>

<div class="org-src-container">

<pre class="src src-sword">&lt;http://example.com/patients.swd#pete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://example.com/patients.swd#Male&gt;.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-8-2" class="outline-4">
<h4 id="sec-4-8-2"><span class="section-number-4">4.8.2</span> Property values</h4>
<div class="outline-text-4" id="text-4-8-2">
<p>
Property values can be asserted in the form of <code>&lt;subject&gt; &lt;property&gt; &lt;value&gt;</code>,
for instance:
</p>

<div class="org-src-container">

<pre class="src src-sword">pete :weight "80.3"^^xsd:decimal.
</pre>
</div>

<p>
This asserts that the value of the <code>weight</code> property for the individual <code>pete</code> is
<code>80.3</code>.
</p>

<p>
Multiple property values can be asserted for the same individual with a
compact syntax. For example, if we wished to assert that the individual <code>pete</code>
was an instance of the <code>Male</code> class, had a <code>weight</code> of <code>80.3</code> and had <code>children</code> <code>mia</code>
and <code>leen</code>, then we could write:
</p>

<div class="org-src-container">

<pre class="src src-sword">pete is a Male;
     weight 80.3;
     children mia, leen.
</pre>
</div>

<p>
Different properties (such as <code>weight</code> and <code>children</code>) are separated by a
semicolon, while different values for the same property (such as <code>mia</code> and <code>leen</code>)
are separated by commas.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9"><span class="section-number-3">4.9</span> Classes and properties</h3>
<div class="outline-text-3" id="text-4-9">
<p>
Sword allows to define OWL classes and properties. Class restrictions and
equivalence conditions can also be defined, as well as property restrictions
and axioms.
</p>
</div>

<div id="outline-container-sec-4-9-1" class="outline-4">
<h4 id="sec-4-9-1"><span class="section-number-4">4.9.1</span> Classes</h4>
<div class="outline-text-4" id="text-4-9-1">
<p>
A class is defined by the <code>class</code> keyword:
</p>

<div class="org-src-container">

<pre class="src src-sword">class :A.
</pre>
</div>

<p>
A class can be defined in 3 ways:
</p>

<ul class="org-ul">
<li>as equivalent to some class expression;
</li>
<li>as a subclass of some other classes;
</li>
<li>with property restrictions.
</li>
</ul>

<p>
Class equivalence is defined by the <code>is</code> keyword after the class name:
</p>

<div class="org-src-container">

<pre class="src src-sword">class :A is :B and (:C or :D).
</pre>
</div>

<p>
This defines the class <code>A</code> as the intersection of classes <code>B</code> and the union of <code>C</code>
and <code>D</code>. A member in <code>A</code> must be in <code>B</code> and in <code>C</code> or <code>D</code>.
</p>

<p>
The <code>rdfs:subClassOf</code> axiom is defined with the Sword keyword <code>extends</code>, for instance:
</p>

<div class="org-src-container">

<pre class="src src-sword">class :A extends :B, :C.
</pre>
</div>

<p>
which defines A as a subclass of B and C.
</p>

<p>
Classes can be defined using property restrictions. Here&rsquo;s an example:
</p>

<div class="org-src-container">

<pre class="src src-sword">class :Male is :Person and (:gender has :male).
</pre>
</div>

<p>
Some axioms available in OWL, such as disjoint classes, are not available in
Sword.
</p>
</div>
</div>

<div id="outline-container-sec-4-9-2" class="outline-4">
<h4 id="sec-4-9-2"><span class="section-number-4">4.9.2</span> Properties</h4>
<div class="outline-text-4" id="text-4-9-2">
<p>
Property restrictions, as well new properties, can be defined within a class
declaration, after the <code>with</code> keyword.
</p>

<p>
Each property declaration consists of the property name (a URI) followed by a
list of property attributes. Here is a list of the allowed property
attributes:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>range</code> CLASS</td>
<td class="left">Defines the range of the property</td>
</tr>

<tr>
<td class="left"><code>object</code></td>
<td class="left">The property is an ObjectProperty</td>
</tr>

<tr>
<td class="left"><code>data</code></td>
<td class="left">The property is a DatatypeProperty</td>
</tr>

<tr>
<td class="left"><code>single</code></td>
<td class="left">The property is allowed to have at most one value (it is functional)</td>
</tr>

<tr>
<td class="left"><code>symmetric</code></td>
<td class="left">The property is symmetric</td>
</tr>

<tr>
<td class="left"><code>transitive</code></td>
<td class="left">The property is transitive</td>
</tr>

<tr>
<td class="left"><code>required</code></td>
<td class="left">Adds a minCardinality 1 restriction for this class</td>
</tr>

<tr>
<td class="left"><code>inverse</code> PROPERTY</td>
<td class="left">The property is the inverse of another property</td>
</tr>

<tr>
<td class="left"><code>min</code> INTEGER</td>
<td class="left">Adds a minCardinality restriction for this class</td>
</tr>

<tr>
<td class="left"><code>max</code> INTEGER</td>
<td class="left">Adds a maxCardinality restriction for this class</td>
</tr>

<tr>
<td class="left"><code>exactly</code> INTEGER</td>
<td class="left">Adds a cardinality restriction for this class</td>
</tr>

<tr>
<td class="left"><code>all</code> CLASS</td>
<td class="left">Adds an allValuesFrom restriction for this class</td>
</tr>

<tr>
<td class="left"><code>some</code> CLASS</td>
<td class="left">Adds a someValuesFrom restriction for this class</td>
</tr>

<tr>
<td class="left"><code>has</code> VALUE</td>
<td class="left">Adds a hasValue restriction for this class</td>
</tr>

<tr>
<td class="left"><code>extends</code> PROPERTY</td>
<td class="left">The property is a sub-property of another property</td>
</tr>
</tbody>
</table>

<p>
Here is an example class that defines some properties with the <code>Patient</code> as
<code>rdfs:domain</code>:
</p>

<div class="org-src-container">

<pre class="src src-sword">class :Patient extends :Person with
    :name        range xsd:string single required,
    :weight      range xsd:decimal single single,
    :next_of_kin range :Person.
</pre>
</div>

<p>
Note that, within a class declaration, properties are separated by a comma.
</p>

<p>
The <code>range</code>, <code>data</code> and <code>object</code> attributes are special as special triples like <code>rdfs:domain</code>,
<code>owl:ObjectProperty</code> and <code>owl:DatatypeProperty</code> depends on it. This means that these
attributes should be present when you mean to define the new property and
should be specified only once per property.
</p>

<p>
Other restrictions or axioms for the same property are allowed on other
classes than the domain class. For instance:
</p>

<div class="org-src-container">

<pre class="src src-sword">class :Person with
    :name range xsd:string single required.

class :Patient extends :Person with
    :name min 1.
</pre>
</div>

<p>
This means that the property <code>name</code> has domain <code>Person</code> and range <code>xsd:string</code>, but
that in the context of <code>Patient</code>, it must have at least one value.
</p>

<p>
The <code>single</code>, <code>symmetric</code>, <code>transitive</code>, <code>inverse</code> and <code>extends</code> attributes should also
only be specified once for each property and should appear together with the
<code>range</code> attribute.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10"><span class="section-number-3">4.10</span> Inference Rules</h3>
<div class="outline-text-3" id="text-4-10">
<p>
An inference rule is meant to infer new knowledge. It has the form of an
implication between an <i>antecedent</i> (<i>body</i>) and a <i>consequent</i> (<i>head</i>). The meaning
of such a rule can be read as: whenever the conditions specified in the
antecedent hold, then the conditions specified in the consequent must also
hold.
</p>

<p>
In Sword, an inference rule is written using the <code>if</code> and <code>then</code> keywords. Here&rsquo;s
an example:
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?x1 :hasParent ?x2
   and ?x2 :hasBrother ?x3
then
  ?x1 :hasUncle ?x3.
</pre>
</div>

<p>
A name (URI) can be assigned to the rule using the <code>rule</code> keyword:
</p>

<div class="org-src-container">

<pre class="src src-sword">rule uncle-definition
if ?x1 :hasParent ?x2
   and ?x2 :hasBrother ?x3
then
  ?x1 :hasUncle ?x3.
</pre>
</div>

<p>
If the name is omitted, the rule will get the name <code>rule-at-line-N</code>, where N is
the line number where the rule is declared on.
</p>

<p>
Annotations such as labels and comments can also be added to the rule:
</p>

<div class="org-src-container">

<pre class="src src-sword">rule uncle-definition
     [rdfs:label "Uncle definition"@en,
     rdfs:comment "An uncle is a parent's brother"]
if ?x1 :hasParent ?x2
   and ?x2 :hasBrother ?x3
then
  ?x1 :hasUncle ?x3.
</pre>
</div>

<p>
Variables start with a question mark and can contain letters, digits,
underscores and hyphens, but cannot start with underscore.
The variable <code>?_</code> is an anonymous variable, meaning that each of these anonymous
variables are different. This is used for unused arguments.
</p>

<p>
The body of the rule is made of a conjunction of goals. If the conjunction is
made of several goals, the goals are separated by the <code>and</code> keyword. A goal can
be:
</p>

<ul class="org-ul">
<li>an atom; atoms use the same syntax as facts, except that variables are
allowed as arguments;
</li>

<li>a negation as failure (see section about <a href="#naf">NAF</a> for more details);
</li>

<li>an aggregation (see section about <a href="#aggregation">Aggregation</a> for more details).
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11"><span class="section-number-3">4.11</span> Validation Rules</h3>
<div class="outline-text-3" id="text-4-11">
<p>
Here is a validation rule that says the taker of the contract must be 18 or
older.
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?contract is a :Contract
   and ?contract :taker ?person
   and ?person :age ?age
then
   ?age &gt;= 18.
</pre>
</div>

<p>
Note that the head of the rule can only be true or false, this is what
distinguishes validation rules from inference rules. A validation rule fails
if the body of the rule is true while it&rsquo;s head is false.
</p>

<p>
So for example, if we have a person in our system whose age is less than 18,
but is not a taker of a Contract then the head of the above rule fails. This
means that the validation rule is not triggered and thus for that person
doesn&rsquo;t fail.
</p>

<p>
The above rule can also be written as follows:
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?contract is a :Contract
   and ?contract :taker ?person
   and ?person :age ?age
   and ?age &lt; 18
then
   .
</pre>
</div>

<p>
This is because an empty rule&rsquo;s head is equivalent to false. So, if we can
make the body true then the validation rule fails.
</p>

<p>
Validation rules can also have labels, and these labels can mention the body&rsquo;s
variables:
</p>

<div class="org-src-container">

<pre class="src src-sword">rule taker
    [rdfs:label "The taker of the contract is ${age} years old, they must be at least 18 years old"@en]
if ?contract is a Contract
   and ?contract :taker ?person
   and ?person :age ?age
then
   ?age &gt;= 18.
</pre>
</div>

<p>
If the above rule fails, then the age of the person which caused the rule to
fail will be substituted into the label of the validation rule.
</p>

<p>
The ODASE platform can automatically detect validation rules, and we will see
in &ldquo;Using ontologies in Applications&rdquo; how they can be used.
</p>
</div>
</div>

<div id="outline-container-naf" class="outline-3">
<h3 id="naf"><a id="sec-4-12" name="sec-4-12"></a><span class="section-number-3">4.12</span> Negation As Failure</h3>
<div class="outline-text-3" id="text-naf">

<p>
Sword adds support for <i>Negation as failure</i> (or NAF): in a rule, NAF is a goal
that contains a conjunction of goals with the syntax <code>NAF(&lt;conjunction&gt;)</code>. It
succeeds if the reasoner fails to prove the conjunction.
</p>

<p>
For instance:
</p>

<div class="org-src-container">

<pre class="src src-sword">class PatientWithNoAge.

if ?p is a Patient
   and NAF(?p age ?)
then
   ?p is a PatientWithNoAge.
</pre>
</div>

<p>
This rule infers that a <code>PatientWithNoAge</code> is a patient for which we do not know
the age, and we are not able to infer it.
</p>
</div>
</div>

<div id="outline-container-aggregation" class="outline-3">
<h3 id="aggregation"><a id="sec-4-13" name="sec-4-13"></a><span class="section-number-3">4.13</span> Aggregation</h3>
<div class="outline-text-3" id="text-aggregation">

<p>
Sword also supports aggregation. The available aggregations are defined as
<code>AggregateBuiltin</code> in the <code>aggregate_builtins.owl</code> ontology.
</p>

<p>
The syntax is <code>&lt;result term&gt; = &lt;aggregate uri&gt; { &lt;variables to aggregate&gt; | &lt;atoms conjunction&gt;}</code>.
</p>

<p>
For instance:
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?o is a :Order
    and ?mostExpensive = aggr:greatestIndividualBy
	    {?item, ?price | ?x :ordered-item ?item
			    and ?item :ordered-pizza ?pizza
			    and ?pizza :price ?price}
then ?o :most-expensive ?mostExpensive.
</pre>
</div>

<p>
This rule finds the <code>OrderItem</code> with the most expensive <code>Pizza</code>.
</p>
</div>
</div>

<div id="outline-container-sec-4-14" class="outline-3">
<h3 id="sec-4-14"><span class="section-number-3">4.14</span> Excel Integration</h3>
<div class="outline-text-3" id="text-4-14">
<p>
The ODASE platform offers the ability to integrate with Excel worksheets: you
are able to set input values in a worksheet and get other output values in
return.
</p>

<p>
The Excel worksheet is loaded by the ODASE platform and interpreted to compute
formulas and return output values from the inputs. Note that the Microsoft
Excel software/engine is not used at all by the ODASE platform.
</p>

<p>
The integration is realized through builtins located in the
<code>spreadsheet_builtins</code> ontology. To use it, you need to import it in your rule
file:
</p>

<div class="org-src-container">

<pre class="src src-sword">import &lt;http://www.missioncriticalit.com/ontologies/spreadsheet_builtins.owl&gt; as excel.
</pre>
</div>

<p>
In order to access your Excel file, this one should be loaded like any other
store URI (XXX need to explain this or udpate the Store URI section).
</p>
</div>

<div id="outline-container-sec-4-14-1" class="outline-4">
<h4 id="sec-4-14-1"><span class="section-number-4">4.14.1</span> Eval</h4>
<div class="outline-text-4" id="text-4-14-1">
<p>
The <code>eval</code> builtin is aimed at evaluating a spreadsheet with some input.
</p>

<p>
It takes the name of the spreadsheet as first argument (the spreadsheet&rsquo;s
filename without the extension). The next arguments are treated by pairs: a
cell name followed by a variable:
</p>

<div class="org-src-container">

<pre class="src src-sword">eval(?spreadsheet, ?cellname_1, ?variable_1, ?cellname_2, ?variable_2, ... , ?cellname_n, ?variable_n)
</pre>
</div>

<p>
For each bound variable <code>?variable_i</code>, its value will be set in the cell named
<code>?cellname_i</code>.
</p>

<p>
After all bound variable are set, the spreadsheet is interpreted and all
variables that were initially unbound are bound with the values of the
corresponding output cells.
</p>

<p>
As an example, imagine that we have an Excel worksheet that is used to compute
scores for an insurance company. In our example, the score to be calculated
(<code>computed_score</code>) depends on the age, the gender and the zip code of the
person.
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?person is a :Person
   and ?person :age ?age
   and ?person :gender ?gender
   and ?gender :gender_code ?gender_code
   and ?person :postal_code ?postcode
   excel:eval("MySpreadsheet", "age", ?age, "sex", ?gender_code, "zip", ?postcode, "computed_score", ?result)
then
   ?person :computed_score ?result.
</pre>
</div>

<p>
This means that the Excel worksheet contains:
</p>

<ul class="org-ul">
<li>input cells, named &ldquo;age&rdquo;, &ldquo;sex&rdquo; and &ldquo;zip&rdquo;;
</li>

<li>an output cell, named &ldquo;computed\_score&rdquo;, containing a formula that calculates
the score from the inputs.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-14-2" class="outline-4">
<h4 id="sec-4-14-2"><span class="section-number-4">4.14.2</span> Lookup</h4>
<div class="outline-text-4" id="text-4-14-2">
<p>
The <code>lookup</code> builtin is aimed at looking up values in a spreadsheet (similar to
what the Excel <code>VLOOKUP</code> function does).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-15" class="outline-3">
<h3 id="sec-4-15"><span class="section-number-3">4.15</span> Arithmetics</h3>
<div class="outline-text-3" id="text-4-15">
<p>
Sword provides syntax shortcuts for basic arithmetic builtins.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Symbols</th>
<th scope="col" class="left">Builtins</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>+</code></td>
<td class="left">swrlb:add</td>
</tr>

<tr>
<td class="left"><code>-</code></td>
<td class="left">swrlb:subtract</td>
</tr>

<tr>
<td class="left"><code>*</code></td>
<td class="left">swrlb:multiply</td>
</tr>

<tr>
<td class="left"><code>/</code></td>
<td class="left">swrlb:divide</td>
</tr>

<tr>
<td class="left"><code>div</code></td>
<td class="left">swrlb:integerDivide</td>
</tr>

<tr>
<td class="left"><code>%</code></td>
<td class="left">swrlb:mod</td>
</tr>

<tr>
<td class="left"><code>pow</code></td>
<td class="left">swrlb:power</td>
</tr>
</tbody>
</table>

<p>
Examples:
</p>

<div class="org-src-container">

<pre class="src src-sword">?x = (?y + 10 - 15) * 2 / 100
?z = (?y pow 3)
?a = 10 % 6
?b = 10 div 3
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-16" class="outline-3">
<h3 id="sec-4-16"><span class="section-number-3">4.16</span> Function of</h3>
<div class="outline-text-3" id="text-4-16">
<p>
Very often, it is useful to infer individuals that depend on others (i.e. that
are <i>function of</i> other individuals). In Sword, you can use the <code>function of</code>
keywords to achieve this.
</p>

<p>
Note that the individuals inferred with the <code>function of</code> mechanism are, like
any other inferred knowledge, not persistent: they only exist in the inference
context.
</p>

<p>
The <code>function of</code> is used in the body of a rule while the inferred individual
must be specified in the head.
</p>

<p>
Here&rsquo;s an example where we infer families with parents and kids from fathers
and mothers:
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?child :father ?father
   and ?child :mother ?mother
   and ?family function of [?father, ?mother]
then
   ?family is a :Family
   and ?family :kids ?child
   and ?family :parents ?father
   and ?family :parents ?mother.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-17" class="outline-3">
<h3 id="sec-4-17"><span class="section-number-3">4.17</span> Composed from</h3>
<div class="outline-text-3" id="text-4-17">
<p>
The composed from is has the same purpose as the function of, but with control
of the resulting individual uri with a template.
</p>

<p>
Here&rsquo;s the same example where we infer families with parents and kids from fathers
and mothers, but with each person having a corresponding id, and the family id
being composed from the mother and father id:
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?child :father ?father
   and ?child :mother ?mother
   and ?father :id ?fid and ?mother :id ?mid
   and ?family composed from &lt;http://ns/family/{?fid^^xsd:string}/{?mid^^xsd:string}&gt;
then
   ?family is a :Family
   and ?family :kids ?child
   and ?family :parents ?father
   and ?family :parents ?mother.
</pre>
</div>

<p>
The composition can contain template terms enclosed in {}, which can be a variable representing a
literal value, for which the type is given: {?l^^xsd:string}. It can also
contain a term corresponding to a uri, within a given namespace: {?i@&lt;ns&gt;} or
{?i@:} or {?i@abb:}. A template term is url encoded by default, except if it
is enclosed in []: {[?x]}. The parsing happens from right to left, to allow
for reuse of one base uri appended with values:
&lt;{[?father]}/{?mid^^xsd:string}/family&gt;.
Note that the separators used between template terms should not occur in
values of the template terms.
</p>
</div>
</div>


<div id="outline-container-sec-4-18" class="outline-3">
<h3 id="sec-4-18"><span class="section-number-3">4.18</span> Builtins</h3>
<div class="outline-text-3" id="text-4-18">
</div><div id="outline-container-sec-4-18-1" class="outline-4">
<h4 id="sec-4-18-1"><span class="section-number-4">4.18.1</span> <a href="http://swrl.stanford.edu/ontologies/built-ins/3.3/abox.owl">http://swrl.stanford.edu/ontologies/built-ins/3.3/abox.owl</a></h4>
<div class="outline-text-4" id="text-4-18-1">
</div><div id="outline-container-sec-4-18-1-1" class="outline-5">
<h5 id="sec-4-18-1-1"><span class="section-number-5">4.18.1.1</span> booleanHasPropertyValue</h5>
<div class="outline-text-5" id="text-4-18-1-1">
<p>
booleanHasPropertyValue(result, a,b,c) is equivalent to hasValue(a,b,c) and booleanHasPropertyValue(result, a,b) is equivalent to hasProperty(a,b), but with a,b (and c) ground, and instead of failing or succeeding, result is an xsd:boolean set to true or false
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-2" class="outline-5">
<h5 id="sec-4-18-1-2"><span class="section-number-5">4.18.1.2</span> hasClass</h5>
<div class="outline-text-5" id="text-4-18-1-2">
<p>
Returns true if the individual named by the first argument is an instance of the class identified by the second argument. If the second argument is unbound, bind it to all defining classes of the individual.&amp;#10;E.g., abox:hasClass(?i, Person).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-3" class="outline-5">
<h5 id="sec-4-18-1-3"><span class="section-number-5">4.18.1.3</span> hasIndividual</h5>
<div class="outline-text-5" id="text-4-18-1-3">
<p>
Returns true if the class named by the first argument has an individual identified by the second argument. If the second argument is unbound, bind it to all individuals of the class. E.g., abox:hasInstance(?c, Fred).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-4" class="outline-5">
<h5 id="sec-4-18-1-4"><span class="section-number-5">4.18.1.4</span> hasProperty</h5>
<div class="outline-text-5" id="text-4-18-1-4">
<p>
Returns true if the individual named by the first argument has at least one value for the property named by the second argument. If the second argument in unbound, bind it to all the properties that have at least one value for this individual. E.g., abox:hasProperty(?i, hasAge).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-5" class="outline-5">
<h5 id="sec-4-18-1-5"><span class="section-number-5">4.18.1.5</span> hasPropertyValue</h5>
<div class="outline-text-5" id="text-4-18-1-5">
<p>
hasPropertyValue(a,b,c) is equivalent to hasValue(a,b,c) and hasPropertyValue(a,b) is equivalent to hasProperty(a,b).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-6" class="outline-5">
<h5 id="sec-4-18-1-6"><span class="section-number-5">4.18.1.6</span> hasPropertyValueOrDefault</h5>
<div class="outline-text-5" id="text-4-18-1-6">
<p>
hasPropertyValueOrDefault(?subj, pred, ?obj, subjDefault, objDefault) is ?subj pred ?obj, if there are no answer, ?subj is subjDefault and ?obj is objDefault.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-7" class="outline-5">
<h5 id="sec-4-18-1-7"><span class="section-number-5">4.18.1.7</span> hasURI</h5>
<div class="outline-text-5" id="text-4-18-1-7">
<p>
Returns true if the OWL class, property, or individual named by the first argument has a URI identified by the second argument. If the second argument is unbound, bind it to URI of the resource. E.g., hasURI(?c, ?uri).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-8" class="outline-5">
<h5 id="sec-4-18-1-8"><span class="section-number-5">4.18.1.8</span> hasValue</h5>
<div class="outline-text-5" id="text-4-18-1-8">
<p>
Returns true if the individual named by the first argument has a property specified by the second argument with the value specified by the third argument. If the third argument in unbound, bind it to all the values for this property.  E.g., abox:hasValue(?i, hasAliases, &amp;quot;Freddy&amp;quot;), abox:hasProperty(?i, hasAge, 23).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-9" class="outline-5">
<h5 id="sec-4-18-1-9"><span class="section-number-5">4.18.1.9</span> individualPropertyMaxCardinality</h5>
<div class="outline-text-5" id="text-4-18-1-9">
<p>
individualPropertyMaxCardinality(?max, indiv, property) for indiv and property ground, it binds ?max to the inferred max cardinality for the property in the context indiv (depends on the inferred indiv membership)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-10" class="outline-5">
<h5 id="sec-4-18-1-10"><span class="section-number-5">4.18.1.10</span> individualPropertyMinCardinality</h5>
<div class="outline-text-5" id="text-4-18-1-10">
<p>
individualPropertyMinCardinality(?min, indiv, property) for indiv and property ground, it binds ?min to the inferred min cardinality for the property in the context indiv (depends on the inferred indiv membership)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-11" class="outline-5">
<h5 id="sec-4-18-1-11"><span class="section-number-5">4.18.1.11</span> isIndividual</h5>
<div class="outline-text-5" id="text-4-18-1-11">
<p>
Determine if a single argument is an individual. If the argument is unbound, bind it to all the individuals in the ontology.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-12" class="outline-5">
<h5 id="sec-4-18-1-12"><span class="section-number-5">4.18.1.12</span> isNumeric</h5>
<div class="outline-text-5" id="text-4-18-1-12">
<p>
Determine if a single argument is numeric.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-1-13" class="outline-5">
<h5 id="sec-4-18-1-13"><span class="section-number-5">4.18.1.13</span> notNumeric</h5>
<div class="outline-text-5" id="text-4-18-1-13">
<p>
Determine if a single argument is not numeric.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-2" class="outline-4">
<h4 id="sec-4-18-2"><span class="section-number-4">4.18.2</span> <a href="http://swrl.stanford.edu/ontologies/built-ins/3.3/tbox.owl">http://swrl.stanford.edu/ontologies/built-ins/3.3/tbox.owl</a></h4>
<div class="outline-text-4" id="text-4-18-2">
</div><div id="outline-container-sec-4-18-2-1" class="outline-5">
<h5 id="sec-4-18-2-1"><span class="section-number-5">4.18.2.1</span> hasKeys</h5>
<div class="outline-text-5" id="text-4-18-2-1">
<p>
hasKeys(?class, ?keys, ?property) is true for each ?class being an owl class for which there are hasKey defined, for each keys set, ?keys is bound to something representing that set, and ?property is bound to each property of that keys set.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-2" class="outline-5">
<h5 id="sec-4-18-2-2"><span class="section-number-5">4.18.2.2</span> hasMaxCardinality</h5>
<div class="outline-text-5" id="text-4-18-2-2">
<p>
hasMaxCardinality(?max, ?property, ?class) succeed if the property has a max cardinality in the context of the concept.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-3" class="outline-5">
<h5 id="sec-4-18-2-3"><span class="section-number-5">4.18.2.3</span> hasMinCardinality</h5>
<div class="outline-text-5" id="text-4-18-2-3">
<p>
hasMinCardinality(?min, ?property, ?class) succeed if the property has a min cardinality in the context of the concept.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-4" class="outline-5">
<h5 id="sec-4-18-2-4"><span class="section-number-5">4.18.2.4</span> isDisjointWith</h5>
<div class="outline-text-5" id="text-4-18-2-4">
<p>
Determine if the two class or property arguments represent classes or properties that are disjoint with each other. If the first argument is unbound, bind it to the disjoint properties or classes of the second argument (if any exist).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-5" class="outline-5">
<h5 id="sec-4-18-2-5"><span class="section-number-5">4.18.2.5</span> isInDirectDomainOf</h5>
<div class="outline-text-5" id="text-4-18-2-5">
<p>
Check that the first class argument is in the domain of the second property argument (excluding superproperties). If the first argument is unbound and the second argument is bound, bind the first argument to the domain(s) of the second property argument (if any exist). If the first class argument is bound and the second argument is unbound, bind the second argument to the properties that have the class in their domain (if any exist). An error is thrown if both arguments are unbound.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-6" class="outline-5">
<h5 id="sec-4-18-2-6"><span class="section-number-5">4.18.2.6</span> isInDirectRangeOf</h5>
<div class="outline-text-5" id="text-4-18-2-6">
<p>
Determine if the first class argument is in the range of the second property argument excluding its superproperties. If the first argument is unbound, bind it to the range of the second argument (if any exist).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-7" class="outline-5">
<h5 id="sec-4-18-2-7"><span class="section-number-5">4.18.2.7</span> isInDomainOf</h5>
<div class="outline-text-5" id="text-4-18-2-7">
<p>
Check that the first class argument is in the domain of the second property argument (including its superproperties). If the first argument is unbound and the second argument is bound, bind the first argument to the domain(s) of the second property argument (if any exist). If the first class argument is bound and the second argument is unbound, bind the second argument to the properties that have the class in their domain (if any exist). An error is thrown if both arguments are unbound.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-8" class="outline-5">
<h5 id="sec-4-18-2-8"><span class="section-number-5">4.18.2.8</span> isInRangeOf</h5>
<div class="outline-text-5" id="text-4-18-2-8">
<p>
Determine if the first class argument is in the range of the second property argument (including its superproperties). If the first argument is unbound, bind it to the range of the second argument (if any exist). 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-9" class="outline-5">
<h5 id="sec-4-18-2-9"><span class="section-number-5">4.18.2.9</span> isInverseOf</h5>
<div class="outline-text-5" id="text-4-18-2-9">
<p>
Check that the first property argument is inverse of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-10" class="outline-5">
<h5 id="sec-4-18-2-10"><span class="section-number-5">4.18.2.10</span> isOWLClass</h5>
<div class="outline-text-5" id="text-4-18-2-10">
<p>
Determine if a single argument is an OWL named class. If the argument is unbound, bind it to all named classes in the ontology.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-11" class="outline-5">
<h5 id="sec-4-18-2-11"><span class="section-number-5">4.18.2.11</span> isOWLDatatypeProperty</h5>
<div class="outline-text-5" id="text-4-18-2-11">
<p>
Determine if a single argument is a data property. If the argument is unbound, bind it to all the data properties in the ontology.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-12" class="outline-5">
<h5 id="sec-4-18-2-12"><span class="section-number-5">4.18.2.12</span> isOWLFunctionalProperty</h5>
<div class="outline-text-5" id="text-4-18-2-12">
<p>
Determine if a single argument is a functional property.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-13" class="outline-5">
<h5 id="sec-4-18-2-13"><span class="section-number-5">4.18.2.13</span> isOWLInverseFunctionalProperty</h5>
<div class="outline-text-5" id="text-4-18-2-13">
<p>
Determine if a single argument is an inverse functional property.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-14" class="outline-5">
<h5 id="sec-4-18-2-14"><span class="section-number-5">4.18.2.14</span> isOWLObjectProperty</h5>
<div class="outline-text-5" id="text-4-18-2-14">
<p>
Determine if a single argument is an object property. If the argument is unbound, bind it to all the object properties in the ontology.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-15" class="outline-5">
<h5 id="sec-4-18-2-15"><span class="section-number-5">4.18.2.15</span> isOWLProperty</h5>
<div class="outline-text-5" id="text-4-18-2-15">
<p>
Determine if a single argument is a property. If the argument is unbound, bind it to all the properties in the ontology.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-16" class="outline-5">
<h5 id="sec-4-18-2-16"><span class="section-number-5">4.18.2.16</span> isOWLSymmetricProperty</h5>
<div class="outline-text-5" id="text-4-18-2-16">
<p>
Determine if a single argument is a symmetric property.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-17" class="outline-5">
<h5 id="sec-4-18-2-17"><span class="section-number-5">4.18.2.17</span> isOWLTransitiveProperty</h5>
<div class="outline-text-5" id="text-4-18-2-17">
<p>
Determine if a single argument is a transitive property. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-18" class="outline-5">
<h5 id="sec-4-18-2-18"><span class="section-number-5">4.18.2.18</span> isSubClassOf</h5>
<div class="outline-text-5" id="text-4-18-2-18">
<p>
CCheck that the first class argument is a subclass of the second class argument. If the first argument is unbound, bind it to the subclasses of the second argument (if any exist).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-19" class="outline-5">
<h5 id="sec-4-18-2-19"><span class="section-number-5">4.18.2.19</span> isSubPropertyOf</h5>
<div class="outline-text-5" id="text-4-18-2-19">
<p>
Determine if the first property argument is a subproperty of the second property argument. If the first argument is unbound, bind it to the sub properties of the second argument (if any exist).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-20" class="outline-5">
<h5 id="sec-4-18-2-20"><span class="section-number-5">4.18.2.20</span> isSuperClassOf</h5>
<div class="outline-text-5" id="text-4-18-2-20">
<p>
Check that the first class argument is a superclass of the second class argument. If the first argument is unbound, bind it to the superclasses of the second argument (if any exist). 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-2-21" class="outline-5">
<h5 id="sec-4-18-2-21"><span class="section-number-5">4.18.2.21</span> isSuperPropertyOf</h5>
<div class="outline-text-5" id="text-4-18-2-21">
<p>
Determine if the first property argument is a superproperty of the second property argument. If the first argument is unbound, bind it to the super properties of the second argument (if any exist).
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-3" class="outline-4">
<h4 id="sec-4-18-3"><span class="section-number-4">4.18.3</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/aggregate_builtins.owl">http://www.missioncriticalit.com/ontologies/builtins/aggregate_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-3">
</div><div id="outline-container-sec-4-18-3-1" class="outline-5">
<h5 id="sec-4-18-3-1"><span class="section-number-5">4.18.3.1</span> avivaJoinList</h5>
<div class="outline-text-5" id="text-4-18-3-1">
<p>
avivaJoinList{?string | g(?string)} returns the concatenation of the strings, separated by comma, the last string being introduced by ET
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-2" class="outline-5">
<h5 id="sec-4-18-3-2"><span class="section-number-5">4.18.3.2</span> concatenateStrings</h5>
<div class="outline-text-5" id="text-4-18-3-2">
<p>
concatenateStrings(?concatenation, ?indiv, ?property1, ?property2, &#x2026;). Concatenate all the strings which are the result of the property chain. The strings are sorted following the default order before being concatenated.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-3" class="outline-5">
<h5 id="sec-4-18-3-3"><span class="section-number-5">4.18.3.3</span> count</h5>
<div class="outline-text-5" id="text-4-18-3-3">
<p>
?x &amp;#61; count {?y | &#x2026;} will count each ?y into ?x
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-4" class="outline-5">
<h5 id="sec-4-18-3-4"><span class="section-number-5">4.18.3.4</span> joinList</h5>
<div class="outline-text-5" id="text-4-18-3-4">
<p>
joinList{?string, ?separator | g(?string)} returns the concatenation of the strings, separated by the separator (the separator should be constant, but FYI if the separator varies, then one of them will be ignored)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-5" class="outline-5">
<h5 id="sec-4-18-3-5"><span class="section-number-5">4.18.3.5</span> joinListLast</h5>
<div class="outline-text-5" id="text-4-18-3-5">
<p>
joinList{?string, ?separator, ?lastSeparator | g(?string)} returns the concatenation of the strings, separated by the separator, except for the last separation which is separated with ?lastSeparator (typical use case is a comma separated list, but with and as the last separator)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-6" class="outline-5">
<h5 id="sec-4-18-3-6"><span class="section-number-5">4.18.3.6</span> maxDecimals</h5>
<div class="outline-text-5" id="text-4-18-3-6">
<p>
?x &amp;#61; maxDecimals {?y | &#x2026;} will pick the max from values of ?y, if one
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-7" class="outline-5">
<h5 id="sec-4-18-3-7"><span class="section-number-5">4.18.3.7</span> maxInts</h5>
<div class="outline-text-5" id="text-4-18-3-7">
<p>
?x &amp;#61; maxInts {?y | &#x2026;} will pick the max from values of ?y, if one
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-8" class="outline-5">
<h5 id="sec-4-18-3-8"><span class="section-number-5">4.18.3.8</span> minDecimals</h5>
<div class="outline-text-5" id="text-4-18-3-8">
<p>
?x &amp;#61; minDecimals {?y | &#x2026;} will pick the min from values of ?y, if one
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-9" class="outline-5">
<h5 id="sec-4-18-3-9"><span class="section-number-5">4.18.3.9</span> minInts</h5>
<div class="outline-text-5" id="text-4-18-3-9">
<p>
?x &amp;#61; minInts {?y | &#x2026;} will pick the min from values of ?y, if one
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-10" class="outline-5">
<h5 id="sec-4-18-3-10"><span class="section-number-5">4.18.3.10</span> pickOne</h5>
<div class="outline-text-5" id="text-4-18-3-10">
<p>
?x &amp;#61; pickOne {?y | &#x2026;} will pick the one from values of ?y, if one (which is undefined)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-11" class="outline-5">
<h5 id="sec-4-18-3-11"><span class="section-number-5">4.18.3.11</span> productDecimals</h5>
<div class="outline-text-5" id="text-4-18-3-11">
<p>
?x &amp;#61; productDecimals {?y, ?e | &#x2026;} will do the product of all ?y
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-12" class="outline-5">
<h5 id="sec-4-18-3-12"><span class="section-number-5">4.18.3.12</span> sumDecimals</h5>
<div class="outline-text-5" id="text-4-18-3-12">
<p>
?x &amp;#61; sumDecimals {?d, ?e | &#x2026;} will add each ?d to the sum ?x
</p>
</div>
</div>
<div id="outline-container-sec-4-18-3-13" class="outline-5">
<h5 id="sec-4-18-3-13"><span class="section-number-5">4.18.3.13</span> sumInts</h5>
<div class="outline-text-5" id="text-4-18-3-13">
<p>
?x &amp;#61; sumInts {?i, ?e | &#x2026;} will add each ?i to the sum?x
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-4" class="outline-4">
<h4 id="sec-4-18-4"><span class="section-number-4">4.18.4</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/conversion_builtins.owl">http://www.missioncriticalit.com/ontologies/builtins/conversion_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-4">
</div><div id="outline-container-sec-4-18-4-1" class="outline-5">
<h5 id="sec-4-18-4-1"><span class="section-number-5">4.18.4.1</span> anyStringToLocalName</h5>
<div class="outline-text-5" id="text-4-18-4-1">
<p>
anyStringToLocalName(?localName, ?string) returns in the first argument a valid local name corresponding to some string given in the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-2" class="outline-5">
<h5 id="sec-4-18-4-2"><span class="section-number-5">4.18.4.2</span> binaryBitRangeToInt</h5>
<div class="outline-text-5" id="text-4-18-4-2">
<p>
binaryBitRangeToInt(?result, binary, start, length) takes the bits from the binary represenented by the string (001010&#x2026;) from start, with a length, and convert to an integer, fails if the length is more than the capacity of int (32)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-3" class="outline-5">
<h5 id="sec-4-18-4-3"><span class="section-number-5">4.18.4.3</span> binaryBitToBoolean</h5>
<div class="outline-text-5" id="text-4-18-4-3">
<p>
binaryBitToBoolean(?result, binary, index) takes the bits from the binary represenented by the string (001010&#x2026;), pick the bit at index, and transform to boolean
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-4" class="outline-5">
<h5 id="sec-4-18-4-4"><span class="section-number-5">4.18.4.4</span> cannonicalStringToInt</h5>
<div class="outline-text-5" id="text-4-18-4-4">
<p>
cannonicalStringToInt(?string, ?int) is true iff ?int is an xsd:int whose cannonical representation (without leading of 0&amp;#39;s) is equal to ?string
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-5" class="outline-5">
<h5 id="sec-4-18-4-5"><span class="section-number-5">4.18.4.5</span> capitalizedWordsSplitAndJoin</h5>
<div class="outline-text-5" id="text-4-18-4-5">
<p>
capitalizedWordsSplitAndJoin(result, capitalizedWordsString, separator) succeeds if the first argument is a string that is made up of words separated at every capital letter and rejoined with the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-6" class="outline-5">
<h5 id="sec-4-18-4-6"><span class="section-number-5">4.18.4.6</span> castAs</h5>
<div class="outline-text-5" id="text-4-18-4-6">
<p>
castAs(?result,input, uri_type_string) takes a  typed literal as input, and casts it as the xsd type descrived  by the uri_type if the type of the input literal&amp;#39;s type is a sub type of uri type, or if the base of the input literal is a super type of the uri_type and the value of the input literal complies with the possible restrictions of uri_type. Fails otherwise. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-7" class="outline-5">
<h5 id="sec-4-18-4-7"><span class="section-number-5">4.18.4.7</span> changeCaseFirstLetter</h5>
<div class="outline-text-5" id="text-4-18-4-7">
<p>
changeCaseFirstLetter(result, string) succeeds if the first argument is a the same string as the second argument, but with the first letter case being the opposite of the case of the first letter of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-8" class="outline-5">
<h5 id="sec-4-18-4-8"><span class="section-number-5">4.18.4.8</span> dateTimeDate</h5>
<div class="outline-text-5" id="text-4-18-4-8">
<p>
dateTimeDate(?dateTime, ?date) returns in the second argument the xsd:date part of the first xsd:dateTime argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-9" class="outline-5">
<h5 id="sec-4-18-4-9"><span class="section-number-5">4.18.4.9</span> dateTimeTime</h5>
<div class="outline-text-5" id="text-4-18-4-9">
<p>
dateTimeTime(?dateTime, ?time) returns in the second argument the xsd:time part of the first xsd:dateTime argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-10" class="outline-5">
<h5 id="sec-4-18-4-10"><span class="section-number-5">4.18.4.10</span> decimal_int</h5>
<div class="outline-text-5" id="text-4-18-4-10">
<p>
Convert a decimal to an integer
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-11" class="outline-5">
<h5 id="sec-4-18-4-11"><span class="section-number-5">4.18.4.11</span> decimal_integer</h5>
<div class="outline-text-5" id="text-4-18-4-11">
<p>
decimal_integer(?d, ?i) is true iff ?d is a decimal with no fraction part and ?i is the integer part of ?d (?i is an xsd:integer).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-12" class="outline-5">
<h5 id="sec-4-18-4-12"><span class="section-number-5">4.18.4.12</span> fixedSizeStringToInt</h5>
<div class="outline-text-5" id="text-4-18-4-12">
<p>
fixedSizeStringToInt(?string,?int,?size) is true iff ?int is an xsd:int whose cannonical representation when padded with as many 0&amp;#39;s on the left as needed to acheive a total number of characters (including a possible minus if ?int is less then 0) is equal to ?string
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-13" class="outline-5">
<h5 id="sec-4-18-4-13"><span class="section-number-5">4.18.4.13</span> float_bool</h5>
<div class="outline-text-5" id="text-4-18-4-13">
<p>
float_bool(0.0, false)&amp;#10;float_bool(1.0, true)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-14" class="outline-5">
<h5 id="sec-4-18-4-14"><span class="section-number-5">4.18.4.14</span> float_int</h5>
<div class="outline-text-5" id="text-4-18-4-14">
<p>
float_int(?f, ?i) is true iff ?f is a float with no fraction part and ?i is the integer part of ?f (?i is an xsd:int).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-15" class="outline-5">
<h5 id="sec-4-18-4-15"><span class="section-number-5">4.18.4.15</span> float_to_decimal</h5>
<div class="outline-text-5" id="text-4-18-4-15">
<p>
float_to_decimal(?precision, ?float, ?decimal)&amp;#10;&amp;#10;Convert a xsd:float to a xsd:decimal.  The float is rounded to the given precision.  ?precision and ?float must be bound.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-16" class="outline-5">
<h5 id="sec-4-18-4-16"><span class="section-number-5">4.18.4.16</span> floorDecimal</h5>
<div class="outline-text-5" id="text-4-18-4-16">
<p>
floorDecimal(?x, ?y, ?precision) iff ?x is ?y floored to ?precision decimal places.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-17" class="outline-5">
<h5 id="sec-4-18-4-17"><span class="section-number-5">4.18.4.17</span> gYearMonth</h5>
<div class="outline-text-5" id="text-4-18-4-17">
<p>
gYearMonth(?gYearMonth, ?year, ?month)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-18" class="outline-5">
<h5 id="sec-4-18-4-18"><span class="section-number-5">4.18.4.18</span> hexBinaryBitRangeToInt</h5>
<div class="outline-text-5" id="text-4-18-4-18">
<p>
hexBinaryBitRangeToInt(?result, hexBinary, start, length) takes the bits from the binary represenented by the hex string from start, with a length, and convert to an integer, fails if the length is more than the capacity of int (32)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-19" class="outline-5">
<h5 id="sec-4-18-4-19"><span class="section-number-5">4.18.4.19</span> hexBinaryBitRangeToLittleEndianInteger</h5>
<div class="outline-text-5" id="text-4-18-4-19">
<p>
hexBinaryBitRangeToInteger(?result, hexBinary, start, length) takes the bits from the binary represenented by the hex string from start, with a length, and convert to an integer
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-20" class="outline-5">
<h5 id="sec-4-18-4-20"><span class="section-number-5">4.18.4.20</span> intFormat</h5>
<div class="outline-text-5" id="text-4-18-4-20">
<p>
intFormat(?formattedInt, ?int, ?formatString) returns in the first argument the formatted string which represents the xsd:int of the second argument, formatted using the format string (in the traditional C form) of the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-21" class="outline-5">
<h5 id="sec-4-18-4-21"><span class="section-number-5">4.18.4.21</span> mergeOverlappingStrings</h5>
<div class="outline-text-5" id="text-4-18-4-21">
<p>
mergeOverlappingStrings(result, string1, string2) succeeds if the first argument is a string the merge of string1 and string2 with the largest overlapping end of string1 and beginnning of string2 being merged. For instance mergeOverlappingStrings(abcdef, abcd, cdef).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-22" class="outline-5">
<h5 id="sec-4-18-4-22"><span class="section-number-5">4.18.4.22</span> normalizeStringToPrintableASCII</h5>
<div class="outline-text-5" id="text-4-18-4-22">
<p>
normalizeStringToPrintableASCII(?normalized, string) replaces every character in string by closest printable ascii
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-23" class="outline-5">
<h5 id="sec-4-18-4-23"><span class="section-number-5">4.18.4.23</span> replaceNonAlphaNumBy</h5>
<div class="outline-text-5" id="text-4-18-4-23">
<p>
replaceNonAlphaNumBy(?normalized, string, replacement) replaces every character in string which is not ascii alpha num by replacement
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-24" class="outline-5">
<h5 id="sec-4-18-4-24"><span class="section-number-5">4.18.4.24</span> roundDecimal</h5>
<div class="outline-text-5" id="text-4-18-4-24">
<p>
roundDecimal(?x, ?y, ?precision) iff ?x is ?y rounded to ?precision decimal places.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-25" class="outline-5">
<h5 id="sec-4-18-4-25"><span class="section-number-5">4.18.4.25</span> stringLanguageLiteral</h5>
<div class="outline-text-5" id="text-4-18-4-25">
<p>
stringLanguageLiteral(string, lge, literal) succeeds if the first argument is a string typed literal with the same value as the third argument, and the third argument is a language tagged literal with the same language as the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-26" class="outline-5">
<h5 id="sec-4-18-4-26"><span class="section-number-5">4.18.4.26</span> string_int</h5>
<div class="outline-text-5" id="text-4-18-4-26">
<p>
Deprecated due to non determinism when the string has leading 0&amp;#39;s
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-27" class="outline-5">
<h5 id="sec-4-18-4-27"><span class="section-number-5">4.18.4.27</span> string_integer</h5>
<div class="outline-text-5" id="text-4-18-4-27">
<p>
Deprecated due to non determinism when the string has leading 0&amp;#39;s
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-28" class="outline-5">
<h5 id="sec-4-18-4-28"><span class="section-number-5">4.18.4.28</span> to_string</h5>
<div class="outline-text-5" id="text-4-18-4-28">
<p>
to_string(?any_literal_val, ?string_val)&amp;#10;&amp;#10;Convert any literal to an xsd:string.&amp;#10;Note that this definition breaks the convention that SWRL builtins should&amp;#10;      have the output argument first in the list of arguments.&amp;#10;This was chosen to follow the convention of all other bultins in this module.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-4-29" class="outline-5">
<h5 id="sec-4-18-4-29"><span class="section-number-5">4.18.4.29</span> wordsToCamelCase</h5>
<div class="outline-text-5" id="text-4-18-4-29">
<p>
wordsToCamelCase(result, string, wordSeparatorRegExp) succeeds if the first argument is a CamelCase string that is constructed form words found un the second argument split up using the regular expression in the third argument. wordSeparatorRegExp(CamelCase, CAmEl-cAsE, -)
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-5" class="outline-4">
<h4 id="sec-4-18-5"><span class="section-number-4">4.18.5</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/date_time_builtins.owl">http://www.missioncriticalit.com/ontologies/builtins/date_time_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-5">
</div><div id="outline-container-sec-4-18-5-1" class="outline-5">
<h5 id="sec-4-18-5-1"><span class="section-number-5">4.18.5.1</span> dateFormat</h5>
<div class="outline-text-5" id="text-4-18-5-1">
<p>
dateFormat(?date, ?dateString, format), where format can contain y for year, M for months, d for day. For instance yyyyMMdd. Zones are not supported yet.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-2" class="outline-5">
<h5 id="sec-4-18-5-2"><span class="section-number-5">4.18.5.2</span> dateParts</h5>
<div class="outline-text-5" id="text-4-18-5-2">
<p>
dateParts(Date, Year, [Month, [Day]])&amp;#10;extracts the year, month and day from a date
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-3" class="outline-5">
<h5 id="sec-4-18-5-3"><span class="section-number-5">4.18.5.3</span> dateTimeFormat</h5>
<div class="outline-text-5" id="text-4-18-5-3">
<p>
dateTimeFormat(?date, ?dateTimeString, format), where format can contain y for year, M for months, d for day, H four hours, m minute, s seconds, S milliseconds. For instance yyyy-MM-dd HH:mm:ss.SSS. Zones are not supported yet.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-4" class="outline-5">
<h5 id="sec-4-18-5-4"><span class="section-number-5">4.18.5.4</span> dateTimeSecondsTimeStamp</h5>
<div class="outline-text-5" id="text-4-18-5-4">
<p>
dateTimeSecondsTimeStamp(dateTimeZoned, Zone, decimal_s_TimeStamp)&amp;#10;either dateTimeZoned is ground or decimal_s_TimeStamp and Zone are ground; note that the 0 reference point can be implementation specific; the dateTime must be zoned.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-5" class="outline-5">
<h5 id="sec-4-18-5-5"><span class="section-number-5">4.18.5.5</span> deZone</h5>
<div class="outline-text-5" id="text-4-18-5-5">
<p>
deZone(date(Time), date(Time)(Zone))&amp;#10;is true if date(Time)(Zone) is ground, and is of type date or dateTime with or without zone, and date(Time) is the same date(Time) with the zone dropped
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-6" class="outline-5">
<h5 id="sec-4-18-5-6"><span class="section-number-5">4.18.5.6</span> durationInSeconds</h5>
<div class="outline-text-5" id="text-4-18-5-6">
<p>
durationInSeconds(Duration,Seconds) is true iff the duration is equivalent to the number of seconds
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-7" class="outline-5">
<h5 id="sec-4-18-5-7"><span class="section-number-5">4.18.5.7</span> endOfDay</h5>
<div class="outline-text-5" id="text-4-18-5-7">
<p>
endOfDay(EndOfDayDateTime, Date) is true iff EndOfDayDateTime is the same date as Date at 24:00:00 in the same timezone (if any)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-8" class="outline-5">
<h5 id="sec-4-18-5-8"><span class="section-number-5">4.18.5.8</span> firstDayOfMonth</h5>
<div class="outline-text-5" id="text-4-18-5-8">
<p>
firstDayOfMonth(Date, DateOfFirstDayOfMonth)&amp;#10;takes a date and returns the date of the first day of the same month
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-9" class="outline-5">
<h5 id="sec-4-18-5-9"><span class="section-number-5">4.18.5.9</span> firstWeekDayAtOrAfter</h5>
<div class="outline-text-5" id="text-4-18-5-9">
<p>
firstWeekDayAfter(FirstWeekDayDate, Date)&amp;#10;FirstWeekDayDate is the first week-day (as in Monday to Friday) at or after Date
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-10" class="outline-5">
<h5 id="sec-4-18-5-10"><span class="section-number-5">4.18.5.10</span> lastDayOfMonth</h5>
<div class="outline-text-5" id="text-4-18-5-10">
<p>
lastDayOfMonth(Date, DateOfLastDayOfMonth)&amp;#10;takes a date and returns the date of the last day of the same month
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-11" class="outline-5">
<h5 id="sec-4-18-5-11"><span class="section-number-5">4.18.5.11</span> lastWeekDayAtOrBefore</h5>
<div class="outline-text-5" id="text-4-18-5-11">
<p>
lastWeekDayAtOrBefore(LastWeekDayDate, Date)&amp;#10;LastWeekDayDate is the last week-day (as in Monday to Friday) at or before Date
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-12" class="outline-5">
<h5 id="sec-4-18-5-12"><span class="section-number-5">4.18.5.12</span> sameYearMonthAs</h5>
<div class="outline-text-5" id="text-4-18-5-12">
<p>
sameYearMonthAs(Date1, Date2)&amp;#10;is true if Date1 and Date2 are in the same year and month (both must be ground)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-5-13" class="outline-5">
<h5 id="sec-4-18-5-13"><span class="section-number-5">4.18.5.13</span> startOfDay</h5>
<div class="outline-text-5" id="text-4-18-5-13">
<p>
startOfDay(StartOfDayDateTime, Date) is true iff StartOfDayDateTime is the same date as Date at 00:00:00 in the same timezone (if any)
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-6" class="outline-4">
<h4 id="sec-4-18-6"><span class="section-number-4">4.18.6</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/financial_builtins.owl">http://www.missioncriticalit.com/ontologies/builtins/financial_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-6">
</div><div id="outline-container-sec-4-18-6-1" class="outline-5">
<h5 id="sec-4-18-6-1"><span class="section-number-5">4.18.6.1</span> payment</h5>
<div class="outline-text-5" id="text-4-18-6-1">
<p>
payment(?payment, ?Rate, ?Periods, ?PresentValue, ?FutureValue). Calculates the payment for a loan based on constant payments and a constant interest rate (same as PMT in excel).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-6-2" class="outline-5">
<h5 id="sec-4-18-6-2"><span class="section-number-5">4.18.6.2</span> roundDown</h5>
<div class="outline-text-5" id="text-4-18-6-2">
<p>
roundDown(?Rounded, ?Number, ?Step). Returns the nearest multiple of Step which is smaller or equal to Number.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-6-3" class="outline-5">
<h5 id="sec-4-18-6-3"><span class="section-number-5">4.18.6.3</span> roundUp</h5>
<div class="outline-text-5" id="text-4-18-6-3">
<p>
roundUp(?Rounded, ?Number, ?Step). Returns the nearest multiple of Step which is larger or equal to Number.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-7" class="outline-4">
<h4 id="sec-4-18-7"><span class="section-number-4">4.18.7</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/format_builtin.owl">http://www.missioncriticalit.com/ontologies/builtins/format_builtin.owl</a></h4>
<div class="outline-text-4" id="text-4-18-7">
</div><div id="outline-container-sec-4-18-7-1" class="outline-5">
<h5 id="sec-4-18-7-1"><span class="section-number-5">4.18.7.1</span> format</h5>
<div class="outline-text-5" id="text-4-18-7-1">
<p>
format(termToConvert, sourceType, destinationType, Result), currently, only string to boolean is supported with the strings true and false
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-8" class="outline-4">
<h4 id="sec-4-18-8"><span class="section-number-4">4.18.8</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/indiv_uri_builtin.owl">http://www.missioncriticalit.com/ontologies/builtins/indiv_uri_builtin.owl</a></h4>
<div class="outline-text-4" id="text-4-18-8">
</div><div id="outline-container-sec-4-18-8-1" class="outline-5">
<h5 id="sec-4-18-8-1"><span class="section-number-5">4.18.8.1</span> indiv_uri</h5>
<div class="outline-text-5" id="text-4-18-8-1">
<p>
indiv_uri(?indiv, ?prefix, ?suffix)&amp;#10;&amp;#10;True iff the uri ?prefix concatenated with ?suffix can be used to uniquely identify the individual ?indiv.&amp;#10;&amp;#10;?prefix and ?suffix must be bound.&amp;#10;&amp;#10;The builtin may return incomplete results.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-8-2" class="outline-5">
<h5 id="sec-4-18-8-2"><span class="section-number-5">4.18.8.2</span> individualComposedFrom</h5>
<div class="outline-text-5" id="text-4-18-8-2">
<p>
individualComposedFrom(?result, sep_1, type_1, ?value_1, encoded_1, &#x2026;, sep_n, type_n, ?value_n, sep_n+1). For instance individualComposedFrom(?result, &amp;quot;s1&amp;quot;, &amp;lt;&amp;gt;, ?x, false, &amp;quot;/&amp;quot;, &amp;quot;http&#x2026;#int&amp;quot;, ?y, true, &amp;quot;/&amp;quot;) corresponds to ?result composed from &amp;lt;s1{[?x]}/{?y^^^xsd:int}/&amp;gt;
</p>
</div>
</div>
<div id="outline-container-sec-4-18-8-3" class="outline-5">
<h5 id="sec-4-18-8-3"><span class="section-number-5">4.18.8.3</span> individualDependsOnObjects</h5>
<div class="outline-text-5" id="text-4-18-8-3">
<p>
individualDependsOnObjects(?indiv, ?prefix, ?object*)&amp;#10;True iff the uri ?prefix concatenated with a unique string generated from the list ?object* is&amp;#10;used to uniquely identify the individual ?indiv.&amp;#10;Allowed modes are individualDependsOnObjects(in, in, (out/in)*), individualDependsOnObjects(in/out, in, in*)&amp;#10;
</p>
</div>
</div>
<div id="outline-container-sec-4-18-8-4" class="outline-5">
<h5 id="sec-4-18-8-4"><span class="section-number-5">4.18.8.4</span> individualDependsOnObjectsInOuts</h5>
<div class="outline-text-5" id="text-4-18-8-4">
<p>
individualDependsOnObjectsInOuts(indiv, prefix, ?object*)&amp;#10;        is the same as individualDependsOnObjects(indiv, prefix, ?object*), except that only the mode &amp;#10;        individualDependsOnObjects(in, in, (out/in)*) is supported, all other modes will lead to failure (not unbound).&amp;#10;        Use this builtin with lots of caution, make sure you understand the consequences.&amp;#10;
</p>
</div>
</div>
<div id="outline-container-sec-4-18-8-5" class="outline-5">
<h5 id="sec-4-18-8-5"><span class="section-number-5">4.18.8.5</span> splitUri</h5>
<div class="outline-text-5" id="text-4-18-8-5">
<p>
splitUri(?uri, ?ns, ?localName)&amp;#10;&amp;#10;True iff the uri ?uri consists of the namespace ?ns with local name ?localName.&amp;#10;&amp;#10;Either ?uri or ?ns and ?localName must be bound.&amp;#10;
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-9" class="outline-4">
<h4 id="sec-4-18-9"><span class="section-number-4">4.18.9</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/odase_builtins.owl">http://www.missioncriticalit.com/ontologies/builtins/odase_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-9">
</div><div id="outline-container-sec-4-18-9-1" class="outline-5">
<h5 id="sec-4-18-9-1"><span class="section-number-5">4.18.9.1</span> isIn</h5>
<div class="outline-text-5" id="text-4-18-9-1">
<p>
isIn(?x, o1, o2, o3, &#x2026;) succeeds sif ?x is equal to one of the arguments o1 o2 o3 &#x2026;
</p>
</div>
</div>
<div id="outline-container-sec-4-18-9-2" class="outline-5">
<h5 id="sec-4-18-9-2"><span class="section-number-5">4.18.9.2</span> isInIntegerRange</h5>
<div class="outline-text-5" id="text-4-18-9-2">
<p>
isInIntegerRange(?x, start, end) succeeds sif ?x is in the range [start end], start and end must be ground
</p>
</div>
</div>
<div id="outline-container-sec-4-18-9-3" class="outline-5">
<h5 id="sec-4-18-9-3"><span class="section-number-5">4.18.9.3</span> naf</h5>
<div class="outline-text-5" id="text-4-18-9-3">
<p>
NAF(predicate, a1, a2, a3, &#x2026;) succeeds the reasoner fails for predicate(a1, a2, a3, &#x2026;). Note that in sword, the syntax is NAF(some conjunction) which will be translated into this builtin.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-10" class="outline-4">
<h4 id="sec-4-18-10"><span class="section-number-4">4.18.10</span> <a href="http://www.missioncriticalit.com/ontologies/builtins/time_builtins.owl">http://www.missioncriticalit.com/ontologies/builtins/time_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-10">
</div><div id="outline-container-sec-4-18-10-1" class="outline-5">
<h5 id="sec-4-18-10-1"><span class="section-number-5">4.18.10.1</span> ageInMonths</h5>
<div class="outline-text-5" id="text-4-18-10-1">
<p>
ageInMonths(?numberOfMonths, ?startDate) returns the number of months between ?startDate and now. If the start date is zoned then the now is zoned as well. If we do not know the zone of the start date, the zone from the now is ignored (we suppose that the start date is from same zone as the now).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-2" class="outline-5">
<h5 id="sec-4-18-10-2"><span class="section-number-5">4.18.10.2</span> ageInYears</h5>
<div class="outline-text-5" id="text-4-18-10-2">
<p>
ageInYears(?numberOfYears, ?startDate) returns the number of years between ?startDate and now. ageInYears(?numberOfYears, ?startDate, ?endDate) returns the number of years between ?startDate and ?endDate. If the start date is zoned then the now is zoned as well. If we do not know the zone of the start date, the zone from the now is ignored (we suppose that the start date is from same zone as the now).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-3" class="outline-5">
<h5 id="sec-4-18-10-3"><span class="section-number-5">4.18.10.3</span> anyTime</h5>
<div class="outline-text-5" id="text-4-18-10-3">
<p>
anyTime(?anyTime) ?anyTime is some literal that respresents the time and has the smallest resolution (implem/platform dependent, but it is at least 1 second).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-4" class="outline-5">
<h5 id="sec-4-18-10-4"><span class="section-number-5">4.18.10.4</span> dayOfWeek</h5>
<div class="outline-text-5" id="text-4-18-10-4">
<p>
dayOfWeek(?dateTime, ?day) returns the day of the week of the dateTime (as an xsd:dateTime or xsd:date), using <a href="http://www.w3.org/2006/time#DayOfWeek">http://www.w3.org/2006/time#DayOfWeek</a> instances
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-5" class="outline-5">
<h5 id="sec-4-18-10-5"><span class="section-number-5">4.18.10.5</span> durationFromNow</h5>
<div class="outline-text-5" id="text-4-18-10-5">
<p>
durationFromNow(resultDuration, date) resultDuration is the duration between now and date (absolute duration). If the date is not zoned, then we consider that the date is in the same zone as the today zone. date must be bound and can be xsd:date or xsd:dateTime
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-6" class="outline-5">
<h5 id="sec-4-18-10-6"><span class="section-number-5">4.18.10.6</span> everyDay</h5>
<div class="outline-text-5" id="text-4-18-10-6">
<p>
everyDay(?everyDay) ?everyDay is some literal that respresents is unique for each day in time.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-7" class="outline-5">
<h5 id="sec-4-18-10-7"><span class="section-number-5">4.18.10.7</span> everyDurationAccumulatingSinceUntil</h5>
<div class="outline-text-5" id="text-4-18-10-7">
<p>
everyDurationAccumulatingSinceUntil(?resultDate, startDate(Time), duration, endDate(Time)) returns every date within start/end at every duration starting with start, end may be included.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-8" class="outline-5">
<h5 id="sec-4-18-10-8"><span class="section-number-5">4.18.10.8</span> everyHour</h5>
<div class="outline-text-5" id="text-4-18-10-8">
<p>
everyHour(?everyHour) ?everyHour is some literal that respresents is unique for each hour in time.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-9" class="outline-5">
<h5 id="sec-4-18-10-9"><span class="section-number-5">4.18.10.9</span> everyMonth</h5>
<div class="outline-text-5" id="text-4-18-10-9">
<p>
everyMonth(?everyMonth) ?everyMonth is some literal that respresents is unique for each month in time.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-10" class="outline-5">
<h5 id="sec-4-18-10-10"><span class="section-number-5">4.18.10.10</span> everyYear</h5>
<div class="outline-text-5" id="text-4-18-10-10">
<p>
everyYear(?everyYear) ?everyYear is some literal that respresents is unique for each year in time.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-11" class="outline-5">
<h5 id="sec-4-18-10-11"><span class="section-number-5">4.18.10.11</span> now</h5>
<div class="outline-text-5" id="text-4-18-10-11">
<p>
now(?now) ?now is the current date time (as xsd:dateTime)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-10-12" class="outline-5">
<h5 id="sec-4-18-10-12"><span class="section-number-5">4.18.10.12</span> today</h5>
<div class="outline-text-5" id="text-4-18-10-12">
<p>
today(?today) ?today is the current date (as xsd:date)
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-11" class="outline-4">
<h4 id="sec-4-18-11"><span class="section-number-4">4.18.11</span> <a href="http://www.missioncriticalit.com/ontologies/spreadsheet_builtins.owl">http://www.missioncriticalit.com/ontologies/spreadsheet_builtins.owl</a></h4>
<div class="outline-text-4" id="text-4-18-11">
</div><div id="outline-container-sec-4-18-11-1" class="outline-5">
<h5 id="sec-4-18-11-1"><span class="section-number-5">4.18.11.1</span> decisionTable</h5>
<div class="outline-text-5" id="text-4-18-11-1">
<p>
decisionTable(?spreadsheet, ?worksheet, ?output_column, ?output, ?input_column_1, ?input_1, &#x2026; ?input_column_n, ?input_n)&amp;#10;&amp;#10;?spreadsheet should be bound to a string that identifies the spreadsheet.  ?worksheet should be bound to the worksheet name to do the lookup in (also a string).&amp;#10;&amp;#10;?input_column_x identifies the column containing one of the key to match.  It should be an int, starting at 1. This argument must always be bound.&amp;#10;&amp;#10;?input_x is the value to match in the corresponding column, it must be bound.&amp;#10;&amp;#10;?output_column identifies the column containing values (int starting from 1) for the output.  This argument should always be bound.  ?output is the corresponding output value.  It may be bound or free.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-11-2" class="outline-5">
<h5 id="sec-4-18-11-2"><span class="section-number-5">4.18.11.2</span> eval</h5>
<div class="outline-text-5" id="text-4-18-11-2">
<p>
eval(?spreadsheet, ?label_1, ?value_1, &#x2026;, ?label_n, ?value_n, ss:inputs, ?ilabel_1, ?ivalue_1, &#x2026;, ?ilabel_n, ?ivalue_n, ss:outputs, ?olabel_1, ?ovalue_1, &#x2026;, ?olabel_n, ?ovalue_n)&amp;#10;&amp;#10;Evaluate a spreadsheet with some input.&amp;#10;&amp;#10;?spreadsheet should be bound to a string that identifies the spreadsheet.&amp;#10;&amp;#10;All argument pairs after ss:inputs are treated as inputs.  That is if ?ilabel_x is a label in the ?spreadsheet then ?ivalue_x is set in the spreadsheet for that label.  ?ivalue_x must be bound to a value.&amp;#10;&amp;#10;All argument pairs after ss:outputs are treated as outputs. That is the ?ovalue_x is bound to the value after looking up ?olabel_x in the spreadsheet.  If ?olabel_x is already bound, then the swrl engine will check to see if the value is compatible with the value calculated by the spreadsheet.&amp;#10;&amp;#10;The following statement is still true, but this feature is depreceated and will be removed at a later date.&amp;#10;&amp;#10;if ?label_x is a label in the inputs_worksheet for the given ?spreadsheet then ?value_x is set in the spreadsheet before execution (i.e. is an input), otherwse ?value_x is bound to the value of cell pointed to by ?label_x after the executing the spreadsheet (i.e. is an output).  Input arguments must be bound when the builtin is called.  Output arguments can be bound or free.&amp;#10;&amp;#10;
</p>
</div>
</div>
<div id="outline-container-sec-4-18-11-3" class="outline-5">
<h5 id="sec-4-18-11-3"><span class="section-number-5">4.18.11.3</span> lookup</h5>
<div class="outline-text-5" id="text-4-18-11-3">
<p>
lookup(?spreadsheet, ?worksheet, ?key_column, ?key, ?output_column_1, ?output_1, &#x2026; ?output_column_n, ?output_n)&amp;#10;&amp;#10;Lookup values in a spreadsheet using one column as a key (similar to the excel VLOOKUP function).&amp;#10;&amp;#10;?spreadsheet should be bound to a string that identifies the spreadsheet.  ?worksheet should be bound to the worksheet name to do the lookup in (also a string).&amp;#10;&amp;#10;?key_column identifies the column containing the key.  It should be an int, starting at 1. This argument must always be bound.  The first row of the key column is always ignored (since this usually contains a heading for the column).&amp;#10;&amp;#10;?key is the value to match in the key column.  If this is bound then the rows whose values equal the key will be matched. If it is free, then it will be bound to all values in the column (except the first row).&amp;#10;&amp;#10;?output_column_&amp;amp;lt;i&amp;gt; identifies a column containing values (int starting from 1) for the key.  This argument should always be bound.  ?output_&amp;amp;lt;i&amp;gt; is the corresponding output value.  It may be bound or free.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4-18-12" class="outline-4">
<h4 id="sec-4-18-12"><span class="section-number-4">4.18.12</span> <a href="http://www.w3.org/2003/11/swrlb">http://www.w3.org/2003/11/swrlb</a></h4>
<div class="outline-text-4" id="text-4-18-12">
</div><div id="outline-container-sec-4-18-12-1" class="outline-5">
<h5 id="sec-4-18-12-1"><span class="section-number-5">4.18.12.1</span> abs</h5>
<div class="outline-text-5" id="text-4-18-12-1">
<p>
Satisfied iff the first argument is the absolute value of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-2" class="outline-5">
<h5 id="sec-4-18-12-2"><span class="section-number-5">4.18.12.2</span> add    (+)</h5>
<div class="outline-text-5" id="text-4-18-12-2">
<p>
Satisfied iff the first argument is equal to the arithmetic sum of the second argument through the last argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-3" class="outline-5">
<h5 id="sec-4-18-12-3"><span class="section-number-5">4.18.12.3</span> addDayTimeDurationToDate</h5>
<div class="outline-text-5" id="text-4-18-12-3">
<p>
Satisfied iff the xsd:date the first argument is equal to the arithmetic sum of the xsd:date the second argument plus the dayTimeDuration the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-4" class="outline-5">
<h5 id="sec-4-18-12-4"><span class="section-number-5">4.18.12.4</span> addDayTimeDurationToDateTime</h5>
<div class="outline-text-5" id="text-4-18-12-4">
<p>
Satisfied iff the xsd:dateTime the first argument is equal to the arithmetic sum of the xsd:dateTime the second argument plus the dayTimeDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-5" class="outline-5">
<h5 id="sec-4-18-12-5"><span class="section-number-5">4.18.12.5</span> addDayTimeDurationToTime</h5>
<div class="outline-text-5" id="text-4-18-12-5">
<p>
Satisfied iff the xsd:time the first argument is equal to the arithmetic sum of the xsd:time the second argument plus the dayTimeDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-6" class="outline-5">
<h5 id="sec-4-18-12-6"><span class="section-number-5">4.18.12.6</span> addDayTimeDurations</h5>
<div class="outline-text-5" id="text-4-18-12-6">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic sum of the dayTimeDuration the second argument through the dayTimeDuration the last argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-7" class="outline-5">
<h5 id="sec-4-18-12-7"><span class="section-number-5">4.18.12.7</span> addYearMonthDurationToDate</h5>
<div class="outline-text-5" id="text-4-18-12-7">
<p>
Satisfied iff the xsd:date the first argument is equal to the arithmetic sum of the xsd:date the second argument plus the yearMonthDuration the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-8" class="outline-5">
<h5 id="sec-4-18-12-8"><span class="section-number-5">4.18.12.8</span> addYearMonthDurationToDateTime</h5>
<div class="outline-text-5" id="text-4-18-12-8">
<p>
Satisfied iff the xsd:dateTime the first argument is equal to the arithmetic sum of the xsd:dateTime the second argument plus the yearMonthDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-9" class="outline-5">
<h5 id="sec-4-18-12-9"><span class="section-number-5">4.18.12.9</span> addYearMonthDurations</h5>
<div class="outline-text-5" id="text-4-18-12-9">
<p>
Satisfied iff the yearMonthDuration the first argument is equal to the arithmetic sum of the yearMonthDuration the second argument through the yearMonthDuration the last argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-10" class="outline-5">
<h5 id="sec-4-18-12-10"><span class="section-number-5">4.18.12.10</span> anyURI</h5>
<div class="outline-text-5" id="text-4-18-12-10">
<p>
Satisfied iff the first argument is a URI reference consisting of the scheme the second argument, host the third argument, port the fourth argument, path the fifth argument, query the sixth argument, and fragment the seventh argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-11" class="outline-5">
<h5 id="sec-4-18-12-11"><span class="section-number-5">4.18.12.11</span> booleanNot</h5>
<div class="outline-text-5" id="text-4-18-12-11">
<p>
Satisfied iff the first argument is true and the second argument is false, or vice versa.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-12" class="outline-5">
<h5 id="sec-4-18-12-12"><span class="section-number-5">4.18.12.12</span> ceiling</h5>
<div class="outline-text-5" id="text-4-18-12-12">
<p>
Satisfied iff the first argument is the smallest number with no fractional part that is greater than or equal to the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-13" class="outline-5">
<h5 id="sec-4-18-12-13"><span class="section-number-5">4.18.12.13</span> contains</h5>
<div class="outline-text-5" id="text-4-18-12-13">
<p>
Satisfied iff the first argument contains the second argument (case sensitive).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-14" class="outline-5">
<h5 id="sec-4-18-12-14"><span class="section-number-5">4.18.12.14</span> containsIgnoreCase</h5>
<div class="outline-text-5" id="text-4-18-12-14">
<p>
Satisfied iff the first argument contains the second argument (case ignored).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-15" class="outline-5">
<h5 id="sec-4-18-12-15"><span class="section-number-5">4.18.12.15</span> cos</h5>
<div class="outline-text-5" id="text-4-18-12-15">
<p>
Satisfied iff the first argument is equal to the cosine of the radian value the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-16" class="outline-5">
<h5 id="sec-4-18-12-16"><span class="section-number-5">4.18.12.16</span> date</h5>
<div class="outline-text-5" id="text-4-18-12-16">
<p>
Satisfied iff the first argument is the xsd:date representation consisting of the year the second argument, month the third argument, day the fourth argument, and timezone the fifth argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-17" class="outline-5">
<h5 id="sec-4-18-12-17"><span class="section-number-5">4.18.12.17</span> dateTime</h5>
<div class="outline-text-5" id="text-4-18-12-17">
<p>
Satisfied iff the first argument is the xsd:dateTime representation consisting of the year the second argument, month the third argument, day the fourth argument, hours the fifth argument, minutes the sixth argument, seconds the seventh argument, and timezone the eighth argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-18" class="outline-5">
<h5 id="sec-4-18-12-18"><span class="section-number-5">4.18.12.18</span> dayTimeDuration</h5>
<div class="outline-text-5" id="text-4-18-12-18">
<p>
Satisfied iff the first argument is the xsd:duration representation consisting of the days the second argument, hours the third argument, minutes the fourth argument, and seconds the fifth argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-19" class="outline-5">
<h5 id="sec-4-18-12-19"><span class="section-number-5">4.18.12.19</span> divide    (/)</h5>
<div class="outline-text-5" id="text-4-18-12-19">
<p>
Satisfied iff the first argument is equal to the arithmetic quotient of the second argument divided by the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-20" class="outline-5">
<h5 id="sec-4-18-12-20"><span class="section-number-5">4.18.12.20</span> divideDayTimeDuration</h5>
<div class="outline-text-5" id="text-4-18-12-20">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic remainder of the dayTimeDuration the second argument divided by the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-21" class="outline-5">
<h5 id="sec-4-18-12-21"><span class="section-number-5">4.18.12.21</span> divideYearMonthDuration</h5>
<div class="outline-text-5" id="text-4-18-12-21">
<p>
Satisfied iff the yearMonthDuration the first argument is equal to the arithmetic remainder of the yearMonthDuration the second argument divided by the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-22" class="outline-5">
<h5 id="sec-4-18-12-22"><span class="section-number-5">4.18.12.22</span> empty</h5>
<div class="outline-text-5" id="text-4-18-12-22">
<p>
Satisfied iff the list the first argument is an empty list.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-23" class="outline-5">
<h5 id="sec-4-18-12-23"><span class="section-number-5">4.18.12.23</span> endsWith</h5>
<div class="outline-text-5" id="text-4-18-12-23">
<p>
Satisfied iff the first argument ends with the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-24" class="outline-5">
<h5 id="sec-4-18-12-24"><span class="section-number-5">4.18.12.24</span> equal    (&amp;#61;&amp;#61;)</h5>
<div class="outline-text-5" id="text-4-18-12-24">
<p>
Satisfied iff the first argument and the second argument are the same.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-25" class="outline-5">
<h5 id="sec-4-18-12-25"><span class="section-number-5">4.18.12.25</span> first</h5>
<div class="outline-text-5" id="text-4-18-12-25">
<p>
Satisfied iff the first argument is the first member of the list the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-26" class="outline-5">
<h5 id="sec-4-18-12-26"><span class="section-number-5">4.18.12.26</span> floor</h5>
<div class="outline-text-5" id="text-4-18-12-26">
<p>
Satisfied iff the first argument is the largest number with no fractional part that is less than or equal to the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-27" class="outline-5">
<h5 id="sec-4-18-12-27"><span class="section-number-5">4.18.12.27</span> greaterThan    (&amp;gt;)</h5>
<div class="outline-text-5" id="text-4-18-12-27">
<p>
Similarly to swrlb:lessThan. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-28" class="outline-5">
<h5 id="sec-4-18-12-28"><span class="section-number-5">4.18.12.28</span> greaterThanOrEqual    (≥)</h5>
<div class="outline-text-5" id="text-4-18-12-28">
<p>
Similarly to swrlb:lessThanOrEqual. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-29" class="outline-5">
<h5 id="sec-4-18-12-29"><span class="section-number-5">4.18.12.29</span> integerDivide</h5>
<div class="outline-text-5" id="text-4-18-12-29">
<p>
Satisfied if the first argument is the arithmetic quotient of the second argument idiv the third argument. If the numerator is not evenly divided by the divisor, then the quotient is the xsd:integer value obtained, ignoring any remainder that results from the division (that is, no rounding is performed).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-30" class="outline-5">
<h5 id="sec-4-18-12-30"><span class="section-number-5">4.18.12.30</span> length</h5>
<div class="outline-text-5" id="text-4-18-12-30">
<p>
Satisfied iff the first argument is the length of the list the second argument (number of members of the list).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-31" class="outline-5">
<h5 id="sec-4-18-12-31"><span class="section-number-5">4.18.12.31</span> lessThan    (&amp;lt;)</h5>
<div class="outline-text-5" id="text-4-18-12-31">
<p>
Satisfied iff the first argument and the second argument are both in some implemented type and the first argument is less than the second argument according to a type-specific ordering (partial or total), if there is one defined for the type. The ordering function for the type of untyped literals is the partial order defined as string ordering when the language tags are the same (or both missing) and incomparable otherwise. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-32" class="outline-5">
<h5 id="sec-4-18-12-32"><span class="section-number-5">4.18.12.32</span> lessThanOrEqual    (≤)</h5>
<div class="outline-text-5" id="text-4-18-12-32">
<p>
Either less than, as above, or equal, as above. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-33" class="outline-5">
<h5 id="sec-4-18-12-33"><span class="section-number-5">4.18.12.33</span> listConcat</h5>
<div class="outline-text-5" id="text-4-18-12-33">
<p>
Satisfied iff the first argument is a list representing the concatenation of the lists the second argument through the last argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-34" class="outline-5">
<h5 id="sec-4-18-12-34"><span class="section-number-5">4.18.12.34</span> listIntersection</h5>
<div class="outline-text-5" id="text-4-18-12-34">
<p>
Satisfied iff the first argument is a list containing elements found in both the list the second argument and the list the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-35" class="outline-5">
<h5 id="sec-4-18-12-35"><span class="section-number-5">4.18.12.35</span> listSubtraction</h5>
<div class="outline-text-5" id="text-4-18-12-35">
<p>
Satisfied iff the first argument is a list containing the elements of the list the second argument that are not members of the list the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-36" class="outline-5">
<h5 id="sec-4-18-12-36"><span class="section-number-5">4.18.12.36</span> lowerCase</h5>
<div class="outline-text-5" id="text-4-18-12-36">
<p>
Satisfied iff the first argument is equal to the lower-cased value of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-37" class="outline-5">
<h5 id="sec-4-18-12-37"><span class="section-number-5">4.18.12.37</span> matches</h5>
<div class="outline-text-5" id="text-4-18-12-37">
<p>
Satisfied iff the first argument matches the regular expression the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-38" class="outline-5">
<h5 id="sec-4-18-12-38"><span class="section-number-5">4.18.12.38</span> max</h5>
</div>

<div id="outline-container-sec-4-18-12-39" class="outline-5">
<h5 id="sec-4-18-12-39"><span class="section-number-5">4.18.12.39</span> member</h5>
<div class="outline-text-5" id="text-4-18-12-39">
<p>
Satisfied iff the first argument is a member of the list the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-40" class="outline-5">
<h5 id="sec-4-18-12-40"><span class="section-number-5">4.18.12.40</span> min</h5>
</div>

<div id="outline-container-sec-4-18-12-41" class="outline-5">
<h5 id="sec-4-18-12-41"><span class="section-number-5">4.18.12.41</span> mod    (%)</h5>
<div class="outline-text-5" id="text-4-18-12-41">
<p>
Satisfied if the first argument represents the remainder resulting from dividing the second argument, the dividend, by the third argument, the divisor. The operation a mod b for operands that are xsd:integer or xsd:decimal, or types derived from them, produces a result such that (a idiv b)*b+(a mod b) is equal to a and the magnitude of the result is always less than the magnitude of b. This identity holds even in the special case that the dividend is the negative integer of largest possible magnitude for its type and the divisor is -1 (the remainder is 0). It follows from this rule that the sign of the result is the sign of the dividend
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-42" class="outline-5">
<h5 id="sec-4-18-12-42"><span class="section-number-5">4.18.12.42</span> multiply    (*)</h5>
<div class="outline-text-5" id="text-4-18-12-42">
<p>
Satisfied iff the first argument is equal to the arithmetic product of the second argument through the last argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-43" class="outline-5">
<h5 id="sec-4-18-12-43"><span class="section-number-5">4.18.12.43</span> multiplyDayTimeDuration</h5>
<div class="outline-text-5" id="text-4-18-12-43">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic product of the dayTimeDuration the second argument multiplied by the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-44" class="outline-5">
<h5 id="sec-4-18-12-44"><span class="section-number-5">4.18.12.44</span> multiplyYearMonthDuration</h5>
<div class="outline-text-5" id="text-4-18-12-44">
<p>
Satisfied iff the yearMonthDuration the first argument is equal to the arithmetic product of the yearMonthDuration the second argument multiplied by the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-45" class="outline-5">
<h5 id="sec-4-18-12-45"><span class="section-number-5">4.18.12.45</span> normalizeSpace</h5>
<div class="outline-text-5" id="text-4-18-12-45">
<p>
Satisfied iff the first argument is equal to the whitespace-normalized value of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-46" class="outline-5">
<h5 id="sec-4-18-12-46"><span class="section-number-5">4.18.12.46</span> notEqual    (≠)</h5>
<div class="outline-text-5" id="text-4-18-12-46">
<p>
The negation of swrlb:equal. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-47" class="outline-5">
<h5 id="sec-4-18-12-47"><span class="section-number-5">4.18.12.47</span> pow    (^)</h5>
<div class="outline-text-5" id="text-4-18-12-47">
<p>
Satisfied iff the first argument is equal to the result of the second argument raised to the third argument power.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-48" class="outline-5">
<h5 id="sec-4-18-12-48"><span class="section-number-5">4.18.12.48</span> replace</h5>
<div class="outline-text-5" id="text-4-18-12-48">
<p>
Satisfied iff the first argument is equal to the value of the second argument with every substring matched by the regular expression the third argument replaced by the replacement string the fourth argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-49" class="outline-5">
<h5 id="sec-4-18-12-49"><span class="section-number-5">4.18.12.49</span> resolveURI</h5>
<div class="outline-text-5" id="text-4-18-12-49">
<p>
Satisfied iff the URI reference the first argument is equal to the value of the URI reference the second argument resolved relative to the base URI the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-50" class="outline-5">
<h5 id="sec-4-18-12-50"><span class="section-number-5">4.18.12.50</span> rest</h5>
<div class="outline-text-5" id="text-4-18-12-50">
<p>
Satisfied iff the first argument is a list containing all members of the list the second argument except the first member (the head).
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-51" class="outline-5">
<h5 id="sec-4-18-12-51"><span class="section-number-5">4.18.12.51</span> round</h5>
<div class="outline-text-5" id="text-4-18-12-51">
<p>
Satisfied iff the first argument is equal to the nearest number to the second argument with no fractional part.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-52" class="outline-5">
<h5 id="sec-4-18-12-52"><span class="section-number-5">4.18.12.52</span> roundAsAbsolute</h5>
</div>

<div id="outline-container-sec-4-18-12-53" class="outline-5">
<h5 id="sec-4-18-12-53"><span class="section-number-5">4.18.12.53</span> roundHalfToEven</h5>
<div class="outline-text-5" id="text-4-18-12-53">
<p>
Satisfied iff the first argument is equal to the second argument rounded to the given precision. If the fractional part is exactly half, the result is the number whose least significant digit is even.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-54" class="outline-5">
<h5 id="sec-4-18-12-54"><span class="section-number-5">4.18.12.54</span> sin</h5>
<div class="outline-text-5" id="text-4-18-12-54">
<p>
Satisfied iff the first argument is equal to the sine of the radian value the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-55" class="outline-5">
<h5 id="sec-4-18-12-55"><span class="section-number-5">4.18.12.55</span> startsWith</h5>
<div class="outline-text-5" id="text-4-18-12-55">
<p>
Satisfied iff the first argument starts with the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-56" class="outline-5">
<h5 id="sec-4-18-12-56"><span class="section-number-5">4.18.12.56</span> startsWithIgnoreCase</h5>
<div class="outline-text-5" id="text-4-18-12-56">
<p>
Satisfied iff the first argument ends with the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-57" class="outline-5">
<h5 id="sec-4-18-12-57"><span class="section-number-5">4.18.12.57</span> stringConcat</h5>
<div class="outline-text-5" id="text-4-18-12-57">
<p>
Satisfied iff the first argument is equal to the string resulting from the concatenation of the strings the second argument through the last argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-58" class="outline-5">
<h5 id="sec-4-18-12-58"><span class="section-number-5">4.18.12.58</span> stringEqualIgnoreCase</h5>
<div class="outline-text-5" id="text-4-18-12-58">
<p>
Satisfied iff the first argument is the same as the second argument (upper/lower case ignored)
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-59" class="outline-5">
<h5 id="sec-4-18-12-59"><span class="section-number-5">4.18.12.59</span> stringLength</h5>
<div class="outline-text-5" id="text-4-18-12-59">
<p>
Satisfied iff the first argument is equal to the length of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-60" class="outline-5">
<h5 id="sec-4-18-12-60"><span class="section-number-5">4.18.12.60</span> stringValuesConcat</h5>
<div class="outline-text-5" id="text-4-18-12-60">
<p>
stringValuesConcat(result, literal1, &#x2026;), concatenates literal values into result, all literals must be ground
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-61" class="outline-5">
<h5 id="sec-4-18-12-61"><span class="section-number-5">4.18.12.61</span> sublist</h5>
<div class="outline-text-5" id="text-4-18-12-61">
<p>
Satisfied iff the list the first argument contains the list the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-62" class="outline-5">
<h5 id="sec-4-18-12-62"><span class="section-number-5">4.18.12.62</span> substring</h5>
<div class="outline-text-5" id="text-4-18-12-62">
<p>
Satisfied iff the first argument is equal to the substring of optional length the fourth argument starting at character offset the third argument in the string the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-63" class="outline-5">
<h5 id="sec-4-18-12-63"><span class="section-number-5">4.18.12.63</span> substringAfter</h5>
<div class="outline-text-5" id="text-4-18-12-63">
<p>
Satisfied iff the first argument is the characters of the second argument that follow the characters of the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-64" class="outline-5">
<h5 id="sec-4-18-12-64"><span class="section-number-5">4.18.12.64</span> substringBefore</h5>
<div class="outline-text-5" id="text-4-18-12-64">
<p>
Satisfied iff the first argument is the characters of the second argument that precede the characters of the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-65" class="outline-5">
<h5 id="sec-4-18-12-65"><span class="section-number-5">4.18.12.65</span> subtract    (-)</h5>
<div class="outline-text-5" id="text-4-18-12-65">
<p>
Satisfied iff the first argument is equal to the arithmetic difference of the second argument minus the third argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-66" class="outline-5">
<h5 id="sec-4-18-12-66"><span class="section-number-5">4.18.12.66</span> subtractDateTimesYieldingDayTimeDuration</h5>
<div class="outline-text-5" id="text-4-18-12-66">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic difference of the xsd:dateTime the second argument minus the xsd:dateTime the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-67" class="outline-5">
<h5 id="sec-4-18-12-67"><span class="section-number-5">4.18.12.67</span> subtractDateTimesYieldingYearMonthDuration</h5>
<div class="outline-text-5" id="text-4-18-12-67">
<p>
Satisfied iff the yearMonthDuration the first argument is equal to the arithmetic difference of the xsd:dateTime the second argument minus the xsd:dateTime the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-68" class="outline-5">
<h5 id="sec-4-18-12-68"><span class="section-number-5">4.18.12.68</span> subtractDates</h5>
<div class="outline-text-5" id="text-4-18-12-68">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic difference of the xsd:date the second argument minus the xsd:date the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-69" class="outline-5">
<h5 id="sec-4-18-12-69"><span class="section-number-5">4.18.12.69</span> subtractDayTimeDurationFromDate</h5>
<div class="outline-text-5" id="text-4-18-12-69">
<p>
Satisfied iff the xsd:date the first argument is equal to the arithmetic difference of the xsd:date the second argument minus the yearMonthDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-70" class="outline-5">
<h5 id="sec-4-18-12-70"><span class="section-number-5">4.18.12.70</span> subtractDayTimeDurationFromDateTime</h5>
<div class="outline-text-5" id="text-4-18-12-70">
<p>
Satisfied iff the xsd:dateTime the first argument is equal to the arithmetic difference of the xsd:dateTime the second argument minus the dayTimeDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-71" class="outline-5">
<h5 id="sec-4-18-12-71"><span class="section-number-5">4.18.12.71</span> subtractDayTimeDurationFromTime</h5>
<div class="outline-text-5" id="text-4-18-12-71">
<p>
Satisfied iff the xsd:time the first argument is equal to the arithmetic difference of the xsd:time the second argument minus the dayTimeDuration the third argument
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-72" class="outline-5">
<h5 id="sec-4-18-12-72"><span class="section-number-5">4.18.12.72</span> subtractDayTimeDurations</h5>
<div class="outline-text-5" id="text-4-18-12-72">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic difference of the dayTimeDuration the second argument minus the dayTimeDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-73" class="outline-5">
<h5 id="sec-4-18-12-73"><span class="section-number-5">4.18.12.73</span> subtractTimes</h5>
<div class="outline-text-5" id="text-4-18-12-73">
<p>
Satisfied iff the dayTimeDuration the first argument is equal to the arithmetic difference of the xsd:time the second argument minus the xsd:time the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-74" class="outline-5">
<h5 id="sec-4-18-12-74"><span class="section-number-5">4.18.12.74</span> subtractYearMonthDurationFromDate</h5>
<div class="outline-text-5" id="text-4-18-12-74">
<p>
Satisfied iff the xsd:date the first argument is equal to the arithmetic difference of the xsd:date the second argument minus the yearMonthDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-75" class="outline-5">
<h5 id="sec-4-18-12-75"><span class="section-number-5">4.18.12.75</span> subtractYearMonthDurationFromDateTime</h5>
<div class="outline-text-5" id="text-4-18-12-75">
<p>
Satisfied iff the xsd:dateTime the first argument is equal to the arithmetic difference of the xsd:dateTime the second argument minus the yearMonthDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-76" class="outline-5">
<h5 id="sec-4-18-12-76"><span class="section-number-5">4.18.12.76</span> subtractYearMonthDurations</h5>
<div class="outline-text-5" id="text-4-18-12-76">
<p>
Satisfied iff the yearMonthDuration the first argument is equal to the arithmetic difference of the yearMonthDuration the second argument minus the yearMonthDuration the third argument. 
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-77" class="outline-5">
<h5 id="sec-4-18-12-77"><span class="section-number-5">4.18.12.77</span> tan</h5>
<div class="outline-text-5" id="text-4-18-12-77">
<p>
Satisfied iff the first argument is equal to the tangent of the radian value the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-78" class="outline-5">
<h5 id="sec-4-18-12-78"><span class="section-number-5">4.18.12.78</span> time</h5>
<div class="outline-text-5" id="text-4-18-12-78">
<p>
Satisfied iff the first argument is the xsd:time representation consisting of the hours the second argument, minutes the third argument, seconds the fourth argument, and timezone the fifth argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-79" class="outline-5">
<h5 id="sec-4-18-12-79"><span class="section-number-5">4.18.12.79</span> translate</h5>
<div class="outline-text-5" id="text-4-18-12-79">
<p>
Satisfied iff the first argument is equal to the second argument with occurrences of characters contained in the third argument replaced by the character at the corresponding position in the string the fourth argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-80" class="outline-5">
<h5 id="sec-4-18-12-80"><span class="section-number-5">4.18.12.80</span> unaryMinus</h5>
<div class="outline-text-5" id="text-4-18-12-80">
<p>
Satisfied iff the first argument is equal to the second argument with its sign reversed.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-81" class="outline-5">
<h5 id="sec-4-18-12-81"><span class="section-number-5">4.18.12.81</span> unaryPlus</h5>
<div class="outline-text-5" id="text-4-18-12-81">
<p>
Satisfied iff the first argument is equal to the second argument with its sign unchanged.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-82" class="outline-5">
<h5 id="sec-4-18-12-82"><span class="section-number-5">4.18.12.82</span> upperCase</h5>
<div class="outline-text-5" id="text-4-18-12-82">
<p>
Satisfied iff the first argument is equal to the upper-cased value of the second argument.
</p>
</div>
</div>
<div id="outline-container-sec-4-18-12-83" class="outline-5">
<h5 id="sec-4-18-12-83"><span class="section-number-5">4.18.12.83</span> yearMonthDuration</h5>
<div class="outline-text-5" id="text-4-18-12-83">
<p>
Satisfied iff the first argument is the xsd:duration representation consisting of the year the second argument and month the third argument.
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Java API</h2>
<div class="outline-text-2" id="text-5">
<p>
Thanks to Hedwig, the ODASE platform offers the ability to generate a Java
API for querying and updating the ontologies.
</p>

<p>
See section about <a href="#hedwig">Hedwig</a> for details.
</p>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> Generating the Java API</h3>
<div class="outline-text-3" id="text-5-1">
<p>
To generate Java, we need to use Hedwig&rsquo;s following options:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>--generate-java</code> (or <code>-j</code>)</td>
<td class="left">tells Hedwig to generate the Java API</td>
</tr>

<tr>
<td class="left"><code>--package-name</code> &lt;name&gt; (or <code>-p</code> &lt;name&gt;)</td>
<td class="left">specifies the name of the Java package to generate</td>
</tr>
</tbody>
</table>

<p>
In addition to the files containing our ontologies, we also need to provide a
(Sword) configuration file that tells Hedwig which ontologies you want to
generate code for: for each namespace we want to generate code for, we will
provide the (unqualified) name of the Java class we want to generate. This is
done thanks to the <code>hedwig:java_class_name</code> annotation.
</p>

<p>
As an example, if we want <code>PersonOnt.java</code> to be the generated API for the
ontology <a href="http://example.com/person.swd#">http://example.com/person.swd#</a>, we&rsquo;ll provide the following
configuration file:
</p>

<div class="org-src-container">

<pre class="src src-sword">ontology &lt;http://example.com/hedwig_conf.swd&gt;.

import &lt;http://www.missioncriticalit.com/ontologies/hedwig.owl&gt; as hedwig.

&lt;http://example.com/person.swd#&gt; hedwig:java_class_name "PersonOnt".
</pre>
</div>

<p>
The complete command line to generate our Java API (in
<code>com/example/PersonOnt.java)</code> would look like this:
</p>

<div class="org-src-container">

<pre class="src src-sh">hedwig -j -p com.example ontologies/person.swd hedwig_conf.swd
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> Generated Code for Namespaces</h3>
<div class="outline-text-3" id="text-5-2">
<p>
For each namespace (with a <code>hedwig:java_class_name</code> annotation), Hedwig
generates a Java file containing one top-level class (with the name coming
from the annotation&rsquo;s value).
</p>

<p>
This class is a subclass of the <code>odase.Ontology</code> class which is a wrapper around
<code>odase.Model</code>:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">package</span> com.<span class="org-constant">example</span>;

<span class="org-doc">/**</span>
<span class="org-doc"> * Generated for http://example.com/person.swd.</span>
<span class="org-doc"> */</span>
@<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.SourceURI(<span class="org-string">"http://example.com/person.swd"</span>)
<span class="org-keyword">public</span> <span class="org-keyword">class</span> <span class="org-type">PersonOnt</span> <span class="org-keyword">extends</span> <span class="org-constant">odase</span>.<span class="org-type">Ontology</span> <span class="org-keyword">implements</span> <span class="org-constant">java</span>.<span class="org-constant">io</span>.<span class="org-type">Serializable</span>
{
    <span class="org-keyword">public</span> <span class="org-function-name">PersonOnt</span>(<span class="org-constant">odase</span>.<span class="org-type">Model</span> <span class="org-variable-name">model</span>) {
        <span class="org-keyword">super</span>(model);
    }

    [...]
}
</pre>
</div>

<p>
The <code>odase.Model</code> interface provides generic methods for querying and updating
an ontology. It is used to de-couple the generated API from the underlying
representation of the data. ODASE offers several implementations of
<code>odase.Model</code>. This way, applications are free to use the one which best suits
how they want to reason about and store the ontology data. Please see related
Javadoc for more details.
</p>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> Initializing the generated code</h3>
<div class="outline-text-3" id="text-5-3">
<p>
In order to use the generated code, you first need to create an <code>odase.Model</code>
instance. To do so, we&rsquo;ll use the <code>SwrlKnowledgeBase</code> implementation of
<code>odase.Model</code>. The constructor takes the following 5 arguments:
</p>

<ul class="org-ul">
<li>a catalog file;
</li>

<li>the URI of the reasoner, used to identify the reasoner;
</li>

<li>a list of store URIs that will be loaded;
</li>

<li>the URI of the store in which the updates will be pushed to (must be one of
the previous list);
</li>

<li>the reasoner configuration: used to tune the performance/completeness
compromise.
</li>
</ul>

<p>
One you have a model, you can start using your API.
</p>

<p>
Here&rsquo;s an example of instantiating a model in Java:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-comment-delimiter">// </span><span class="org-comment">Create a Model</span>
<span class="org-type">String</span> <span class="org-variable-name">catalog</span> = <span class="org-string">"../catalog.xml"</span>;
<span class="org-type">String</span> <span class="org-variable-name">reasonerId</span> = <span class="org-string">"http://example.com#reasoner"</span>;
<span class="org-type">String</span> <span class="org-variable-name">ontologyUri</span> = <span class="org-string">"http://example.com/person.swd"</span>;
<span class="org-type">SwrlKnowledgeBase</span> <span class="org-variable-name">model</span> = <span class="org-keyword">new</span> <span class="org-type">SwrlKnowledgeBase</span>(catalog,
                                                reasonerId,
                                                Arrays.asList(ontologyUri),
                                                ontologyUri,
                                                <span class="org-keyword">new</span> <span class="org-type">FastConfig</span>());

<span class="org-comment-delimiter">// </span><span class="org-comment">Start using the generated API</span>
<span class="org-type">PersonOnt</span> <span class="org-variable-name">ontology</span> = <span class="org-keyword">new</span> <span class="org-type">PersonOnt</span>(model);
</pre>
</div>

<p>
For more details about the <code>odase.Model</code> interface and the <code>SwrlKnowledgeBase</code>
implementation, see section XXX.
</p>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> Generated Code for OWL Classes</h3>
<div class="outline-text-3" id="text-5-4">
<p>
For each OWL class in a given namespace, Hedwig also generates a nested static
class extending the <code>odase.Individual</code> class. Objects of these classes represent
individuals in the ontology.
</p>

<p>
Note that the generated Java class name can be customized by using the
<code>hedwig:java_class_name</code> annotation on OWL classes: Hedwig will use the
annotation&rsquo;s value as the unqualified name of the Java class.
</p>

<p>
Example:
</p>

<div class="org-src-container">

<pre class="src src-sword">person:Person hedwig:java_class_name "Person".
</pre>
</div>

<p>
Individual objects contain 2 references:
</p>

<ul class="org-ul">
<li>a reference to the <code>odase.Model</code> object used for doing queries and updates;
</li>

<li>a reference to the <code>odase.Resource</code> that represents the individual itself
(here, a <i>Resource</i> is a URI or an anonymous RDF node).
</li>
</ul>

<p>
Here is an example of the Java class Hedwig would generate for the OWL class
<code>Person</code>:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-doc">/**</span>
<span class="org-doc"> * A person.</span>
<span class="org-doc"> * </span><span class="org-doc"><span class="org-constant">&lt;p&gt;</span></span>
<span class="org-doc"> * Generated for http://example.com/person.swd#Person.</span>
<span class="org-doc"> */</span>
@<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.SourceURI(<span class="org-string">"http://example.com/person.swd#Person"</span>)
<span class="org-keyword">public</span> <span class="org-keyword">static</span> <span class="org-keyword">class</span> <span class="org-type">Person</span> <span class="org-keyword">extends</span> <span class="org-constant">odase</span>.<span class="org-type">Individual</span> <span class="org-keyword">implements</span> <span class="org-constant">java</span>.<span class="org-constant">io</span>.<span class="org-type">Serializable</span> {

    <span class="org-doc">/**</span>
<span class="org-doc">     * Constructs a new Person individual with a unique URI</span>
<span class="org-doc">     * (this does not update the underlying model).</span>
<span class="org-doc">     */</span>
    <span class="org-keyword">public</span> <span class="org-function-name">Person</span>(<span class="org-constant">odase</span>.<span class="org-type">Model</span> <span class="org-variable-name">model</span>)

    <span class="org-doc">/**</span>
<span class="org-doc">     * Constructs a Person individual with the given model and resource</span>
<span class="org-doc">     * (this does not update the underlying model).</span>
<span class="org-doc">     */</span>
    <span class="org-keyword">public</span> Person(<span class="org-constant">odase</span>.<span class="org-type">Model</span> <span class="org-variable-name">model</span>, <span class="org-constant">odase</span>.<span class="org-type">Resource</span> <span class="org-variable-name">resource</span>)

    <span class="org-doc">/**</span>
<span class="org-doc">     * Constructs a Person individual with the given individual</span>
<span class="org-doc">     * (this does not update the underlying model).</span>
<span class="org-doc">     */</span>
    <span class="org-keyword">public</span> Person(<span class="org-constant">odase</span>.<span class="org-type">Individual</span> <span class="org-variable-name">i</span>)

    <span class="org-doc">/**</span>
<span class="org-doc">     * Asserts that the receiver is a member of the Person OWL class</span>
<span class="org-doc">     * (this updates the underlying model by adding an rdf:type triple).</span>
<span class="org-doc">     */</span>
    <span class="org-keyword">public</span> Person assertType()
}
</pre>
</div>

<p>
The <code>Person</code> class contains various constructors for creating new instances.
</p>

<p>
As a rule, generated constructors never update the underlying model. The
<code>assertType</code> method can be called to insert the correct <code>rdf:type</code> triple into the
underlying model.
</p>

<p>
New individuals can also be created using methods on the top level namespace
class. These methods starts with <code>new</code> or <code>assert</code> and are followed by the class
name:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a Person individual with the given individual</span>
<span class="org-doc"> * (this does not update the underlying model).</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.<span class="org-type">Person</span> <span class="org-function-name">newPerson</span>(<span class="org-constant">odase</span>.<span class="org-type">Individual</span> <span class="org-variable-name">indiv</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a Person individual with the given resource</span>
<span class="org-doc"> * (this does not update the underlying model).</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person newPerson(<span class="org-constant">odase</span>.<span class="org-type">Resource</span> <span class="org-variable-name">resource</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a Person individual with the given URI</span>
<span class="org-doc"> * (this does not update the underlying model).</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person newPerson(<span class="org-type">String</span> <span class="org-variable-name">uri</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a new Person individual with a unique URI</span>
<span class="org-doc"> * (this does not update the underlying model).</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person newPerson()

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a Person individual with the given individual</span>
<span class="org-doc"> * and updates the underlying model by adding an rdf:type triple.</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person assertPerson(<span class="org-constant">odase</span>.<span class="org-type">Individual</span> <span class="org-variable-name">indiv</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a Person individual with the given resource</span>
<span class="org-doc"> * and updates the underlying model by adding an rdf:type triple.</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person assertPerson(<span class="org-constant">odase</span>.<span class="org-type">Resource</span> <span class="org-variable-name">resource</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a Person individual with the given URI</span>
<span class="org-doc"> * and updates the underlying model by adding an rdf:type triple.</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person assertPerson(<span class="org-type">String</span> <span class="org-variable-name">uri</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * Constructs a new Person individual with a unique URI</span>
<span class="org-doc"> * and updates the underlying model by adding an rdf:type triple.</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person assertPerson()
</pre>
</div>

<p>
These methods are slightly more convenient to use, because they don&rsquo;t require
an extra <code>odase.Model</code> argument (the model comes from the top-level namespace
class instance):
</p>

<ul class="org-ul">
<li>the <code>new</code> variants only create a new Java instance. They do not update the
model;
</li>

<li>the <code>assert</code> variants also insert the instance into the model;
</li>

<li>the variants that take no arguments create a new and unique URI for the new
instance.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5"><span class="section-number-3">5.5</span> Generated Code for OWL Class Hierarchy</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Note that ODASE does not map OWL inheritance to Java inheritance because they
are fundamentally incompatible:
</p>

<ul class="org-ul">
<li>an OWL class can be a subclass of many other classes, while Java only allows
single inheritance (multiple inheritence can be simulated with Java
interfaces, but that complicates the generated interface in other ways);
</li>

<li>an OWL hierarchy can have cycles which is not supported in Java;
</li>

<li>an OWL instance can be member of several OWL classes at the same time (even
if those classes do not have a subclass/superclass relationship) which is
not allowed in Java.
</li>
</ul>
</div>

<div id="outline-container-sec-5-5-1" class="outline-4">
<h4 id="sec-5-5-1"><span class="section-number-4">5.5.1</span> Up-casting</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
Nevertheless, for each OWL superclass, Hedwig will generate a method to upcast
an individual against the superclass.
</p>

<p>
For example, if <code>Person</code> is an OWL superclass of <code>Woman</code>, the following method
will be generated on the <code>Woman</code> Java class:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.<span class="org-type">Person</span> <span class="org-function-name">asPerson</span>() {}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-5-2" class="outline-4">
<h4 id="sec-5-5-2"><span class="section-number-4">5.5.2</span> Down-casting</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
In the same way, for each OWL subclass, Hedwig will generate 2 methods to test
and downcast an individual against the subclass.
</p>

<p>
For example, if <code>Man</code> is an OWL subclass of <code>Person</code>, the following methods will
be generated on the <code>Person</code> Java class:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">public</span> <span class="org-type">boolean</span> <span class="org-function-name">isMan</span>() {}
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.<span class="org-type">Man</span> <span class="org-function-name">asMan</span>() {}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-5-3" class="outline-4">
<h4 id="sec-5-5-3"><span class="section-number-4">5.5.3</span> Arbitrary Casting</h4>
<div class="outline-text-4" id="text-5-5-3">
<p>
In addition to down and up casting, you could need to cast an individual to
another class (other than a superclass or a subclass). To do so, you&rsquo;ll first
use the <code>isMember</code> method (inherited from <code>odase.Individual</code>) to test whether an
individual is a member of an OWL class or not.
</p>

<p>
In this example, we test if the individual <code>peter</code> is member of the <code>Man</code> class
and get it as a <code>Man</code> if it&rsquo;s true:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">if</span> ( peter.isMemberOf(Man.<span class="org-keyword">class</span>) )
    peterAsMan = <span class="org-keyword">new</span> <span class="org-type">Man</span>(peter);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5-6" class="outline-3">
<h3 id="sec-5-6"><span class="section-number-3">5.6</span> Accessing Individuals</h3>
<div class="outline-text-3" id="text-5-6">
<p>
For accessing individuals, Hedwig generates methods for retrieving all
instances (both asserted and inferred) of a given OWL class. These methods are
named with the <i>all</i> keyword followed by the class name. They can be found on
the top-level class.
</p>

<p>
For example, for the <code>Person</code> class, we&rsquo;ll find the following method:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">public</span> <span class="org-constant">java</span>.<span class="org-constant">util</span>.<span class="org-type">List</span>&lt;<span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.<span class="org-type">Person</span>&gt; <span class="org-function-name">allPerson</span>() {}
</pre>
</div>

<p>
When defined, instances of a concept can be retrieved from their keys (in the
OWL2 sense, using the <code>owl:HasKey</code> axiom).
</p>

<p>
For example, here&rsquo;s the class <code>Person</code>, uniquely identified by a
<code>national_identification_number</code> (here defined in Sword):
</p>

<div class="org-src-container">

<pre class="src src-sword">class :Person keys :national_identification_number with
   :national_identification_number range xsd:int single.
</pre>
</div>

<p>
The corresponding generated API will contain the following 2 extra methods,
on the top-level class:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-doc">/**</span>
<span class="org-doc"> * Finds a Person individual with the given keys</span>
<span class="org-doc"> * (returns null if no individual corresponds to the keys).</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-type">Person</span> <span class="org-function-name">getPersonFromKeys</span>(<span class="org-constant">java</span>.<span class="org-constant">lang</span>.<span class="org-type">Integer</span> <span class="org-variable-name">nationalIdentificationNumber</span>) {}

<span class="org-doc">/**</span>
<span class="org-doc"> * Finds a Person individual with the given keys</span>
<span class="org-doc"> * (throws an exception if no individual corresponds to the keys).</span>
<span class="org-doc"> */</span>
<span class="org-keyword">public</span> <span class="org-constant">model</span>.<span class="org-constant">PersonOnt</span>.<span class="org-type">Person</span> <span class="org-function-name">lookupPersonFromKeys</span>(<span class="org-constant">java</span>.<span class="org-constant">lang</span>.<span class="org-type">Integer</span> <span class="org-variable-name">nationalIdentificationNumber</span>) {}
</pre>
</div>

<p>
Note that the <i>get</i> version returns <i>null</i> if no individual is found while the
<i>lookup</i> version throws an exception in the same condition.
</p>

<p>
Individuals that exist in the ontology when generating the API are accessible
type-safely through the API. For example, <code>Gender</code> individuals can be accessed
this way:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-constant">PersonOnt</span>.Gender.male(model);
<span class="org-constant">PersonOnt</span>.Gender.female(model);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-7" class="outline-3">
<h3 id="sec-5-7"><span class="section-number-3">5.7</span> Generated Code for Properties</h3>
<div class="outline-text-3" id="text-5-7">
<p>
The generated Java classes will have getter and setter methods for querying
and updating OWL property values for individuals: for a given class, Hedwig
will generate getters and setters for properties having this class (or one of
its super classes) in their domain and for properties restricted by this class
(or one of its super classes).
</p>

<p>
By default, Hedwig capitalizes the property&rsquo;s name and prefixes it with <i>get</i>
and <i>set</i> to generate the corresponding methods. Just like classes, these names
can be customized by using the <code>hedwig:java_attribute_name</code> annotation on OWL
properties: Hedwig will use the value of the annotation instead of the name of
the property when generating the methods.
</p>

<p>
Example:
</p>

<div class="org-src-container">

<pre class="src src-sword">person:date_of_birth hedwig:java_attribute_name "birthDate".
</pre>
</div>

<p>
Here are the main characteristics for getter and setter methods generated for
functional properties (and properties with a maximum cardinality restriction
set to 1):
</p>

<ul class="org-ul">
<li>the getter returns one typed single value;
</li>

<li>the setter accepts a single value;
</li>

<li>if the property has no value, the getter returns <code>null</code>;
</li>

<li>to delete the property&rsquo;s value, pass <code>null</code> to its setter method.
</li>
</ul>

<p>
For non-functional properties, Hedwig generates only a getter:
</p>

<ul class="org-ul">
<li>the getter returns a <code>Collection</code> of values;
</li>

<li>as no setter method is generated, modifications to the property&rsquo;s values are
made through the <code>Collection</code> returned by the getter;
</li>

<li>if the property has no value, the getter returns an empty list.
</li>
</ul>

<p>
As an example, here are the getter and setter methods Hedwig would generate
for the <code>age</code> and <code>parent</code> properties of a <code>Person</code> class:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-doc">/**</span>
<span class="org-doc"> * The age of a person.</span>
<span class="org-doc"> * </span><span class="org-doc"><span class="org-constant">&lt;p&gt;</span></span>
<span class="org-doc"> * Generated for http://example.com/person.swd#age.</span>
<span class="org-doc"> */</span>
@<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.SourceURI(<span class="org-string">"http://example.com/person.swd#age"</span>)
<span class="org-keyword">public</span> <span class="org-constant">java</span>.<span class="org-constant">lang</span>.<span class="org-type">Integer</span> <span class="org-function-name">getAge</span>()

<span class="org-doc">/**</span>
<span class="org-doc"> * The age of a person.</span>
<span class="org-doc"> * </span><span class="org-doc"><span class="org-constant">&lt;p&gt;</span></span>
<span class="org-doc"> * Generated for http://example.com/person.swd#age.</span>
<span class="org-doc"> */</span>
@<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.SourceURI(<span class="org-string">"http://example.com/person.swd#age"</span>)
<span class="org-keyword">public</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.Person setAge(<span class="org-constant">java</span>.<span class="org-constant">lang</span>.<span class="org-type">Integer</span> <span class="org-variable-name">value</span>)

<span class="org-doc">/**</span>
<span class="org-doc"> * A person's parent (mother, father).</span>
<span class="org-doc"> * </span><span class="org-doc"><span class="org-constant">&lt;p&gt;</span></span>
<span class="org-doc"> * Generated for http://example.com/person.swd#parent.</span>
<span class="org-doc"> */</span>
@<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.SourceURI(<span class="org-string">"http://example.com/person.swd#parent"</span>)
<span class="org-keyword">public</span> <span class="org-constant">java</span>.<span class="org-constant">util</span>.<span class="org-type">Collection</span>&lt;<span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.<span class="org-type">Person</span>&gt; getParent()
</pre>
</div>

<p>
You can use these methods to get and modify values:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">Person</span> <span class="org-variable-name">p</span> = ontology.assertPerson();
p.getParent().add(ontology.newPerson());
p.setAge(21);
p.getParent().clear();
</pre>
</div>

<p>
Note that if the range class of a property corresponds to a class for which
Hedwig does not generate code for (i.e. the class is in another ontology that
does not have a <code>hedwig:java_class_name</code> annotation) then this property would
return an <code>odase.Individual</code> (or a <code>Collection&lt;odase.Individual&gt;</code>).
</p>
</div>
</div>

<div id="outline-container-sec-5-8" class="outline-3">
<h3 id="sec-5-8"><span class="section-number-3">5.8</span> Querying the ontology: EasySwrl</h3>
<div class="outline-text-3" id="text-5-8">
<p>
The <code>odase.Model</code> interface provides a <code>query</code> method for running more complex
queries. This method takes a list of variables and query atoms as arguments.
Hedwig generates some helper methods that make it easier to construct query
atoms: <code>EasySwrl</code>.
</p>

<p>
For each property and class, Hedwig generates overloaded static methods that
return an atom for the property or class. The generated class methods take one
argument, while the generated property methods take two.
</p>

<p>
The arguments can be of type <code>odase.Variable</code>, <code>odase.Resource</code>, <code>odase.Individual</code>
or for datatype properties, <code>odase.Literal</code> or one of the supported Java types
(see <a href="#java_datatypes">section Java Datatypes</a>).
</p>

<p>
Here&rsquo;s an example method returning all daughters of a person (it uses the
generated <code>child</code> method on the <code>PersonOnt</code> class):
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">import</span> <span class="org-constant">java</span>.<span class="org-constant">util</span>.*;
<span class="org-keyword">import</span> <span class="org-constant">odase</span>.*;
<span class="org-keyword">import</span> <span class="org-constant">odase</span>.<span class="org-constant">rdf</span>.*;
<span class="org-keyword">import</span> <span class="org-constant">odase</span>.<span class="org-constant">swrl</span>.*;
<span class="org-keyword">im</span><span class="org-type">port s</span><span class="org-keyword">tatic</span> <span class="org-constant">odase</span>.<span class="org-constant">swrl</span>.<span class="org-constant">EasySwrl</span>.*;
<span class="org-keyword">import</span> <span class="org-keyword">static</span> <span class="org-constant">com</span>.<span class="org-constant">example</span>.<span class="org-constant">PersonOnt</span>.*;

<span class="org-type">List</span>&lt;<span class="org-type">Resource</span>&gt; <span class="org-function-name">daughters</span>(<span class="org-type">Person</span> <span class="org-variable-name">person</span>) {
    <span class="org-comment-delimiter">// </span><span class="org-comment">Create a varibale for holding the daughters</span>
    <span class="org-type">Variable</span> <span class="org-variable-name">p</span> = var(<span class="org-string">"p"</span>);

    <span class="org-comment-delimiter">// </span><span class="org-comment">Build the query: child(person, p) and Woman(p)</span>
    <span class="org-type">SwrlQuery</span> <span class="org-variable-name">atoms</span> = atoms(child(person, p), <span class="org-type">Woman</span>(<span class="org-type">p</span>));

    <span class="org-comment-delimiter">// </span><span class="org-comment">Run the query</span>
    <span class="org-type">List</span>&lt;<span class="org-type">RdfSubstitution</span>&gt; <span class="org-variable-name">bindings</span> = person.getModel().query(vars(p), atoms);

    <span class="org-comment-delimiter">// </span><span class="org-comment">Extract the bindings for p into a new list and return it</span>
    <span class="org-type">List</span>&lt;<span class="org-type">Resource</span>&gt; <span class="org-variable-name">results</span> = <span class="org-keyword">new</span> <span class="org-type">LinkedList</span>();
    <span class="org-keyword">for</span> (<span class="org-type">RdfSubstitution</span> <span class="org-variable-name">binding</span> : bindings) {
        results.add((<span class="org-type">Resource</span>)binding.get(<span class="org-type">p</span>));
    }
    <span class="org-keyword">return</span> results;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-9" class="outline-3">
<h3 id="sec-5-9"><span class="section-number-3">5.9</span> URIs</h3>
<div class="outline-text-3" id="text-5-9">
<p>
Sometimes you just need the URI of an individual, a class or a property as a
java string. Hedwig generates three static nested classes that contain the
URIs of the ontology as string fields. These classes are:
</p>

<ul class="org-ul">
<li><code>ClassURIs</code>;
</li>
<li><code>PropertyURIs</code>;
</li>
<li>and <code>IndividualURIs</code>.
</li>
</ul>

<p>
The name of the field is, by default, the local name of the URI. It can be
customized using the <code>hedwig:java_uri_field_name</code> annotation.
</p>

<p>
For example, to get the URI of the <code>Woman</code> class as a string, one would use the
expression <code>PersonOnt.ClassURIs.Woman</code>.
</p>

<p>
Generation of these URI fields can be disabled using the <code>--no-java-uri-fields</code>
option.
</p>
</div>
</div>

<div id="outline-container-sec-5-10" class="outline-3">
<h3 id="sec-5-10"><span class="section-number-3">5.10</span> Java Annotations</h3>
<div class="outline-text-3" id="text-5-10">
<p>
Hedwig will add various Java annotations to the generated code. These
annotations can be reflected on at runtime to access extra information about
the generated code.
</p>

<p>
The <code>odase.annotations.SourceURI</code> annotation can be attached to:
</p>

<ul class="org-ul">
<li>the top-level ontology class: it gives the ontology namespace URI;
</li>

<li>the nested static classes that are generated for OWL classes: it gives the
URI of the corresponding OWL class;
</li>

<li>and generated getters and setters: it contains the URI of the corresponding
OWL property.
</li>
</ul>

<p>
The <code>odase.annotations.Cardinality</code> annotation is attached to the generated
getter and setter methods and gives the cardinality restrictions on the
corresponding OWL property.
</p>

<p>
The <code>odase.annotations.RangeFacets</code> annotation is attached to the generated
getter and setter methods for datatype properties with custom datatypes as
ranges. It contains the XSD constraining facets of the custom datatype.
</p>

<p>
More information on these annotations can be found in the ODASE package
Javadocs.
</p>
</div>
</div>

<div id="outline-container-java_datatypes" class="outline-3">
<h3 id="java_datatypes"><a id="sec-5-11" name="sec-5-11"></a><span class="section-number-3">5.11</span> Java Datatypes</h3>
<div class="outline-text-3" id="text-java_datatypes">
</div>

<div id="outline-container-sec-5-11-1" class="outline-4">
<h4 id="sec-5-11-1"><span class="section-number-4">5.11.1</span> Default Mappings</h4>
<div class="outline-text-4" id="text-5-11-1">
<p>
By default, Hedwig will use the following mapping to get getters and setters
datatypes of OWL datatype properties:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">XSD Range</th>
<th scope="col" class="left">Java type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">xsd:anyAtomicType</td>
<td class="left">odase.Literal</td>
</tr>

<tr>
<td class="left">xsd:anyURI</td>
<td class="left">java.net.URI</td>
</tr>

<tr>
<td class="left">xsd:boolean</td>
<td class="left">java.lang.Boolean</td>
</tr>

<tr>
<td class="left">xsd:byte</td>
<td class="left">java.lang.Byte</td>
</tr>

<tr>
<td class="left">xsd:date</td>
<td class="left">java.util.Date</td>
</tr>

<tr>
<td class="left">xsd:dateTime</td>
<td class="left">java.util.Date</td>
</tr>

<tr>
<td class="left">xsd:decimal</td>
<td class="left">java.math.BigDecimal</td>
</tr>

<tr>
<td class="left">xsd:double</td>
<td class="left">java.lang.Double</td>
</tr>

<tr>
<td class="left">xsd:duration</td>
<td class="left">java.xml.datatype.Duration</td>
</tr>

<tr>
<td class="left">xsd:float</td>
<td class="left">java.lang.Float</td>
</tr>

<tr>
<td class="left">xsd:int</td>
<td class="left">java.lang.Integer</td>
</tr>

<tr>
<td class="left">xsd:integer</td>
<td class="left">java.math.BigInteger</td>
</tr>

<tr>
<td class="left">xsd:long</td>
<td class="left">java.lang.Long</td>
</tr>

<tr>
<td class="left">xsd:negativeInteger</td>
<td class="left">java.math.BigInteger</td>
</tr>

<tr>
<td class="left">xsd:nonNegativeInteger</td>
<td class="left">java.math.BigInteger</td>
</tr>

<tr>
<td class="left">xsd:nonPositiveInteger</td>
<td class="left">java.math.BigInteger</td>
</tr>

<tr>
<td class="left">xsd:positiveInteger</td>
<td class="left">java.math.BigInteger</td>
</tr>

<tr>
<td class="left">xsd:short</td>
<td class="left">java.lang.Short</td>
</tr>

<tr>
<td class="left">xsd:string</td>
<td class="left">java.lang.String</td>
</tr>

<tr>
<td class="left">xsd:unsignedByte</td>
<td class="left">java.lang.Short</td>
</tr>

<tr>
<td class="left">xsd:unsignedInt</td>
<td class="left">java.lang.Long</td>
</tr>

<tr>
<td class="left">xsd:unsignedLong</td>
<td class="left">java.math.BigInteger</td>
</tr>

<tr>
<td class="left">xsd:unsignedShort</td>
<td class="left">java.lang.Integer</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-5-11-2" class="outline-4">
<h4 id="sec-5-11-2"><span class="section-number-4">5.11.2</span> Custom Mappings</h4>
<div class="outline-text-4" id="text-5-11-2">
<p>
This mapping can be customized by telling Hedwig to use a different Java type
for a given range. To achieve this, just add a <code>hedwig:java_datatype</code> annotation
to the datatype, specifying the fully qualified name of the Java class to use.
</p>

<p>
By default, Hedwig assumes that the specified class has a constructor that
takes a single string argument (used as an RDF literal to be converted to a
Java object).
</p>

<p>
It will use the object&rsquo;s <code>toString</code> method to convert the object back to an RDF
literal.
</p>
</div>
</div>

<div id="outline-container-sec-5-11-3" class="outline-4">
<h4 id="sec-5-11-3"><span class="section-number-4">5.11.3</span> Custom Converters</h4>
<div class="outline-text-4" id="text-5-11-3">
<p>
If you want a different conversion behavior, you can tell Hedwig to use a
custom datatype converter by adding a <code>hedwig:java_datatype_converter</code>
annotation to the datatype, specifying the Java expression that initializes a
new instance of <code>odase.DatatypeConverter</code>. See the ODASE package Javadocs for
more details.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-12" class="outline-3">
<h3 id="sec-5-12"><span class="section-number-3">5.12</span> Vaadin integration</h3>
<div class="outline-text-3" id="text-5-12">
<p>
The ODASE platform has some builtin integration with the Vaadin Web UI framework.
</p>

<p>
The Vaadin data model consists of the three following interfaces: <code>Property</code>, <code>Item</code>, and <code>Container</code>.
A <code>Property</code> is a simple data object that consists of one typed value.
An <code>Item</code> is a set of <code>Property</code>, and a <code>Container</code> is a set of <code>Item</code>.
</p>

<p>
The concepts map to a OWL model as follows.
A <code>Property</code> is an data/object property of some individual,
ie the first name of the individual &ldquo;John Doe&rdquo;.
A <code>Item</code> is all the data/object properties of some individual,
ie for &ldquo;John Doe&rdquo; their first name, last name, date of birth, etc., etc.
A <code>Container</code> is a set of all individuals, ie &ldquo;John Doe&rdquo;, &ldquo;Jane Doe&rdquo;, etc., etc.
</p>

<p>
The ODASE platform concrete implementations of the above interfaces are:
<code>HedwigProperty</code>, <code>HedwigItem</code> and <code>HedwigContainer</code>.
A <code>HedwigProperty</code> is initialized with some <code>odase.Individual</code> and the uri of some property of the individual.
A <code>HedwigItem</code> is initialized with some <code>odase.Individual</code>.
It then uses reflection on the <code>odase.Individual</code> to discover automatically all the properties of the <code>odase.Individual</code>.
Finally <code>HedwigContainer</code> is initialized with a <code>odase.Model</code> and a hedwig generated <code>java.lang.Class</code>.
It then queries the model to find all members of the OWL class which the <code>java.lang.Class</code> represents.
It can alternatively be initialized with a list of <code>odase.Individual</code>.
</p>

<p>
Here is a small example which shows how one can automatically build a UI for a hedwig generated individual.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-constant">java</span>.<span class="org-constant">util</span>.<span class="org-type">Locale</span> <span class="org-variable-name">locale</span>;
<span class="org-type">Person</span> <span class="org-variable-name">person</span>;

<span class="org-type">Form</span> <span class="org-variable-name">form</span> = <span class="org-keyword">new</span> <span class="org-type">Form</span>();

<span class="org-comment-delimiter">// </span><span class="org-comment">One needs to set the locale so the Form knows</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">which labels to use for each field</span>
form.setLocale(locale);

<span class="org-comment-delimiter">// </span><span class="org-comment">A FieldFactory which uses reflection on the hedwig generated</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">class to determine the type of the field, it's multiplicity,</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">whether it's required or not</span>
form.setFormFieldFactory(<span class="org-keyword">new</span> <span class="org-type">HedwigFieldFactory</span>());

 <span class="org-comment-delimiter">// </span><span class="org-comment">Now associate the Person with the Form</span>
 <span class="org-type">HedwigItem</span>&lt;<span class="org-type">Person</span>&gt; <span class="org-variable-name">item</span> = <span class="org-keyword">new</span> <span class="org-type">HedwigItem</span>&lt;<span class="org-type">Person</span>&gt;(person);
 form.setItemDataSource(item);
</pre>
</div>

<p>
As the OWL model is modified, and the hedwig code regenerated this code to
build the UI will stay exactly the same.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> C# API</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Executing validation rules</h3>
<div class="outline-text-3" id="text-6-1">
<p>
There are two ways to execute validation rules in the ODASE platform.
The simplest way is as follows
</p>

<div class="org-src-container">

<pre class="src src-csharp">odase.Model model;
List&lt;odase.swrl.SwrlValidationError&gt; errs = model.validate();
</pre>
</div>

<p>
The above will execute all the validation rules against all the data in the model
and returns all the validation rules which fail.
Note one should only call this method when the model doesn&rsquo;t contain a large
amount of data.
</p>

<p>
You can also just check a single odase.Individual to see which rules that individual
causes to fail.
</p>

<div class="org-src-container">

<pre class="src src-csharp">odase.Individual indiv;
List&lt;odase.swrl.SwrlValidationError&gt; errs = indiv.validate();
</pre>
</div>

<p>
XXX The odase.Individual.validate() method is not yet implemented on the java backend.
</p>

<p>
Once you have a SwrlValidationError, it is possible to lookup the label
of the validation error.
</p>

<div class="org-src-container">

<pre class="src src-csharp">java.util.Locale locale;
for (SwrlValidationError err: errs) {
    model.getLabel(err.getRuleResource(), err.getSubstitution(), locale);
}
</pre>
</div>

<p>
XXX The following is not yet implemented on the java backend.
</p>

<p>
Finally each <code>SwrlValidationError</code> contains a list of <code>SwrlValidationErrorAtom</code>.
A <code>SwrlValidationErrorAtom</code> is a subject/predicate pair that lead to the rule failing.
For example if you have a validation rule about the age of a person, and the
age is calculated from the date of birth of the person.  Then the list of <code>SwrlValidationErrorAtom</code>
will contain the following pair: <code>{&lt;some_person_uri&gt;, &lt;person:date_of_birth&gt;}</code>.  To indicate that
the date_of_birth property of the given person was one of the reasons why the rule failed.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Tools</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-hedwig" class="outline-3">
<h3 id="hedwig"><a id="sec-7-1" name="sec-7-1"></a><span class="section-number-3">7.1</span> Hedwig</h3>
<div class="outline-text-3" id="text-hedwig">

<p>
Hedwig is a command line tool to generate Java/C#/Mercury code from an
ontology. It reads in a set of OWL ontologies and generates a set of Java
packages, C# packages or Mercury modules.
</p>

<p>
Hedwig is controlled by command line options and ontology annotations.
</p>
</div>

<div id="outline-container-sec-7-1-1" class="outline-4">
<h4 id="sec-7-1-1"><span class="section-number-4">7.1.1</span> Commmand Line Options</h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
<code>hedwig [OPTIONS] &lt;files&gt;</code>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Long option</th>
<th scope="col" class="left">Short option</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>--generate-csharp</code></td>
<td class="left"><code>-c</code></td>
<td class="left">generates the C# Code</td>
</tr>

<tr>
<td class="left"><code>--generate-java</code></td>
<td class="left"><code>-j</code></td>
<td class="left">generates the Java Code</td>
</tr>

<tr>
<td class="left"><code>--generate-mercury</code></td>
<td class="left"><code>-m</code></td>
<td class="left">generates the Mercury Code</td>
</tr>

<tr>
<td class="left"><code>--package-name</code> &lt;name&gt;</td>
<td class="left"><code>-p</code> &lt;name&gt;</td>
<td class="left">specifies the name of the package to generate</td>
</tr>

<tr>
<td class="left"><code>--catalog</code> &lt;file&gt;</td>
<td class="left"><code>-C</code> &lt;file&gt;</td>
<td class="left">specifies the catalog to be used</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-7-1-2" class="outline-4">
<h4 id="sec-7-1-2"><span class="section-number-4">7.1.2</span> Ontology annotations for Java</h4>
<div class="outline-text-4" id="text-7-1-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Annotation</th>
<th scope="col" class="left">Object</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>java_class_name</code></td>
<td class="left">namespace, class</td>
<td class="left">specify the name of the Java class to generate for the given namespace or class</td>
</tr>

<tr>
<td class="left"><code>java_attribute_name</code></td>
<td class="left">property</td>
<td class="left">specify the name of the Java attribute to generate for the given property</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> Pigwidgeon</h3>
<div class="outline-text-3" id="text-7-2">
<p>
Pigwidgeon is a command line tool to generate Java POJO code from an ontology.
Other types of code generation are foreseen in Pigwidgeon.
Pigwidgeon is currently a java tool, accessible in <code>odase.jar</code>. For instance,
using ant to invoke Pigwidgeon:
</p>

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">target</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">pig</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">java</span> <span class="org-nxml-attribute-local-name">classname</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">odase.tools.pigwidgeon.Pigwidgeon</span><span class="org-nxml-attribute-value-delimiter">"</span>
        <span class="org-nxml-attribute-local-name">failonerror</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">true</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">classpath</span> <span class="org-nxml-attribute-local-name">refid</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">classpath</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">line</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">--catalog catalog.xm</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">line</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">--path src/java</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">value</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://www.missioncriticalit.com/ontologies/test_pigwidgeon.swd</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">java</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">target</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>

<p>
The three arguments are the xml catalog for the uri mapping, the path in which the generated packages must be placed,
and finally, the uri of the pigwidgeon configuration ontology. Everything else is configured via that ontology.
</p>

<p>
For instance,
</p>
<div class="org-src-container">

<pre class="src src-sword">ontology &lt;http://www.missioncriticalit.com/ontologies/test_pigwidgeon.swd&gt;.

import &lt;http://www.missioncriticalit.com/ontologies/pigwidgeon.swd&gt;.
import &lt;http://www.missioncriticalit.com/ontologies/pigwidgeon.owl&gt; as pig.
import &lt;http://nds.example.com/nds.swd&gt; as nds.

    \# I want to generate Pojo classes with JPA annotations in one package
jpa is a pig:JPAPojoPackageGenerator.
    \# I want to use default mappings (XSD &lt;-&gt; Java mappings)
jpa is a pig:GeneratorUsingDefaultMappings.
    \# I want to put all that is in nds: namespace into the package
jpa is a pig:GeneratorForOntologyNamespace.
    \# I want to use it with ODASE
jpa is a pig:GeneratorUsingODASEDependencies.
jpa pig:generatesForNamespace "http://nds.example.com/nds.swd#".
    \# All these generated classes will be put in test.pigwidgeon.nds java package
jpa pig:generatesInPackage "test.pigwidgeon.nds".
</pre>
</div>

<p>
The philosophy of pigwidgeon is to allow deep customization of what is generated
via the configuration ontology. To fully understand everything that can be done,
one can look at the <code>pigwidgeon.owl</code> and =pigwidgeon.swd&rdquo;.
But here are a few common patterns.
Remember that sword rules may be used to
</p>

<ul class="org-ul">
<li>Read only properties, which will lead to no setters being generated for all the
</li>
</ul>
<p>
fields corresponding to the property:
</p>

<div class="org-src-container">

<pre class="src src-sword">option is a pig:ReadOnlyPropertyOption.
    \# you may put multiple properties in the same option
option pig:propertyReadOnly nds:totalPrice.
jpa pig:generatesWithOption option.
</pre>
</div>


<ul class="org-ul">
<li>Adding custom annotations to a field getter.
</li>
</ul>
<p>
In this case, we add the <code>NoInference</code> annotation, to be used by the
<code>PojoStore</code> to write pojo objects into a <code>KnowledgeBase</code>.
</p>

<div class="org-src-container">

<pre class="src src-sword">if ?g is a pig:ClassFieldGetter
    and ?g pig:correspondsToProperty ?property
    and ?property in[nds:orderedItem, nds:orderedPizza]
then ?g pig:isAnnotatedWith &lt;http://www.missioncriticalit.com/ontologies/pigwidgeon.owl#annotation_odase.annotations.NoInference&gt;.
</pre>
</div>

<ul class="org-ul">
<li>Generating from multiple namespaces, sharing the same mappings and options.
</li>
</ul>
<p>
Use the <code>PolyGenerator</code> to aggregate othe generators.
</p>
<div class="org-src-container">

<pre class="src src-sword">poly is a pig:PolyGenerator.
    \# for instance pojo1 and pojo2 would be PojoPackageGenerators
poly pig:aggregates pojo1.
poly pig:aggregates pojo2.
    \# All options on poly wil be carried to both pojo1 and pojo2
</pre>
</div>

<ul class="org-ul">
<li>Generating for only specified classes and properties.
</li>
</ul>
<p>
All the examples above use <code>GeneratorForOntologyNamespace</code>
which generates for all classes and properties in the given namespace.
In this case, we want to tell exactly the list of classes and properties to generate.
</p>

<div class="org-src-container">

<pre class="src src-sword">ontology &lt;http://www.missioncriticalit.com/ontologies/test_pigwidgeon.swd&gt;.

import &lt;http://www.missioncriticalit.com/ontologies/pigwidgeon.swd&gt;.
import &lt;http://www.missioncriticalit.com/ontologies/pigwidgeon.owl&gt; as pig.
import &lt;http://nds.example.com/nds.swd&gt; as nds.

    \# I want to generate Pojo classes in one package
jpa is a pig:POJOPackageGenerator.
    \# I want to use default mappings (XSD &lt;-&gt; Java mappings)
jpa is a pig:GeneratorUsingDefaultMappings.
    \# I only want two classes and one property to be generated
jpa pig:generatesForConcept nds:Order.
jpa pig:generatesForConcept nds:OrderItem.
jpa pig:generatesForProperty nds:ordered-item.
    \# All these generated classes will be put in test.pigwidgeon.nds java package
jpa pig:generatesInPackage "test.pigwidgeon.nds".
</pre>
</div>


<ul class="org-ul">
<li>Explicitly generating a class for a concept.
</li>
</ul>
<p>
Pigwidgeon tries to translate as much concepts into classes, but when it cannot prove
that the inheritance relation is Object-Oriented compatible, then it inlines the sub-concept
with <code>isSubConcept</code> fields. Adding disjoint axioms in the ontology may greatly help
pigwidgeon to translate better concepts in classes. But pigwidgeon fails to do as required,
one can always force a concept to become a class.
For instance, take the following ontology:
</p>

<div class="org-src-container">

<pre class="src src-sword">class A.
class AB extends A.
class AC extends A.
AB owl:disjointWith AC.
class ABD extends AB.
class ABE extends AB.
</pre>
</div>

<p>
By default, pigwidgeon will generate classes for <code>A</code>, <code>AB</code>, <code>AC</code>, but <code>ABD</code> and <code>ABE</code>
will be inlined into <code>AB</code>, because an instance of <code>AB</code> may also be <code>ABD</code> and <code>ABE</code> at the
same time. To force a class to be generated for <code>ABD</code>, add <code>ABD</code> to <code>generatesClassForConcept</code>
property of your generator:
</p>

<div class="org-src-container">

<pre class="src src-sword">yourPojoGenerator pig:generatesClassForConcept ABD.
</pre>
</div>


<ul class="org-ul">
<li>Top level classes
</li>
</ul>
<p>
By default, for top-level classes (ones that do not inherit from anything that will be translated into OO-class),
pigwidgeon makes the generated classes inherit from odase.tools.pigwidgeon.PojoIndividual.
One can change the type of this top-level class with the RootIndividualTypeOption option:
</p>

<div class="org-src-container">

<pre class="src src-sword">rootOption is a pig:RootIndividualTypeOption.
rootOption pig:useIndividualTypeForRoots &lt;http://www.missioncriticalit.com/ontologies/pigwidgeon.owl#odase.tools.pigwidgeon.DefaultPojoIndividual&gt;.
yourPojoGenerator pig:generatesWithOption rootOption.
</pre>
</div>

<p>
In some cases, you may have object properties without any range, or with a range that is too generic
compared to the pig-generated classe. Then the PojoStore may not be able to figure out the actual
OO-class membership for an individual, because it cannot easily know the top-level generated classes.
To solve this issue, you can either define a super concept, from which all your other concepts
inherit from, and have that super concept be part of pigwidgeon generation.
As this can be tedious, another solution is to define a concept as equivalent to owl:Thing
in your pigwidgeon configuration ontology, and make it part of the generation, and use it as the external
type for range:
</p>

<ul class="org-ul">
<li>Pojo class inheritence
</li>
</ul>
<p>
Pigwidgeon will try to map concept inheritence into Java inheritence as much as possible,
between classes of the same generator, or across generator within the same <code>PolyGenerator</code> context.
This means that if you wish to have multiple generators that have cross-inheritence, just put them under
the same <code>PolyGenerator</code>.
</p>

<div class="org-src-container">

<pre class="src src-sword">class ns:Something is owl:Thing.
SomethingType is a pig:JavaType.
SomethingType pig:typeQualifiedName "package.namespace.Something".

extOption is a pig:ExternalObjectPropertyRangeType.
extOption pig:useTypeForExternalRange SomethingType.
yourPojoGenerator pig:generatesWithOption extOption.
</pre>
</div>


<p>
Troubleshooting can be done using the workbench on the pigwidgeon configuration ontology,
to see why this class or this field is or isn&rsquo;t generated.
</p>
</div>
</div>

<div id="outline-container-musache" class="outline-3">
<h3 id="musache"><a id="sec-7-3" name="sec-7-3"></a><span class="section-number-3">7.3</span> Mustache</h3>
<div class="outline-text-3" id="text-musache">

<p>
Mustache is a logic-less command line tool to generate files from a
templates. It reads a template file in mustache format and an ontology which
defines individuals used for the generation.
</p>

<p>
Syntax is described at <a href="https://mustache.github.io/">https://mustache.github.io/</a>
</p>

<p>
Mustache is currently a java tool, accessible in <code>odase.jar</code>. For instance,
using ant to invoke Mustache to generate a TypeScript file:
</p>

<div class="org-src-container">

<pre class="src src-xml"><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">target</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">must</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">java</span> <span class="org-nxml-attribute-local-name">classname</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">odase.tools.Mustache</span><span class="org-nxml-attribute-value-delimiter">"</span>
        <span class="org-nxml-attribute-local-name">classpathref</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">odase.classpath</span><span class="org-nxml-attribute-value-delimiter">"</span>
        <span class="org-nxml-attribute-local-name">failonerror</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">true</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">line</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">--catalog catalog.xm</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">line</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">--mustache mustache/test.mustache</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">line</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">--output src/angular/src/app/test.ts</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">arg</span> <span class="org-nxml-attribute-local-name">line</span>=<span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-attribute-value">http://www.locart.com/ontologies/technique/pig.swd</span><span class="org-nxml-attribute-value-delimiter">"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">java</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">target</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>

<p>
The arguments are the xml catalog for the uri mapping, the template file, 
the path in which the generated packages must be placed,
and finally, the uri of the pigwidgeon configuration ontology.
</p>

<p>
Example <code>test.mustache</code>:
</p>
<div class="org-src-container">

<pre class="src src-javascript"><span class="org-keyword">import</span> <a href="http://www.locart.com/ontologies/locart.owl&gt; as l.


{{#is a l:ContratLocation}}
    {{.}} -">&lt;http:</a><span class="org-comment-delimiter"><a href="http://www.locart.com/ontologies/locart.owl&gt; as l.


{{#is a l:ContratLocation}}
    {{.}} -">//</a></span><span class="org-comment"><a href="http://www.locart.com/ontologies/locart.owl&gt; as l.


{{#is a l:ContratLocation}}
    {{.}} -">www.locart.com/ontologies/locart.owl&gt; as l.</a></span><a href="http://www.locart.com/ontologies/locart.owl&gt; as l.


{{#is a l:ContratLocation}}
    {{.}} -">


{{#is a l:ContratLocation}}
    {{.}} -&gt;</a> {{l:montantContratLocation}}
{{<span class="org-string">/is a l:ContratLocation}}</span>
</pre>
</div>
</div>

<div id="outline-container-sec-7-3-1" class="outline-4">
<h4 id="sec-7-3-1"><span class="section-number-4">7.3.1</span> Supported tag types</h4>
<div class="outline-text-4" id="text-7-3-1">
<ul class="org-ul">
<li>Iteration: <code>{{#is a concept}} {{/is a concept}}</code>, <code>{{#property}} {{/property}}</code>.
</li>
<li>Inverted section: <code>{{^is a concept}} {{/is a concept}}</code>.
</li>
<li>Variables: <code>{{property}}</code>, <code>{{.}}</code>, <code>{{-index0}}</code>, <code>{{-index1}}</code>.
</li>
<li>First/last (may be inverted): <code>{{#-last}} {{/-last}}</code>, <code>{{#^-first}} {{/-first}}</code>.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4"><span class="section-number-3">7.4</span> excel2rdf</h3>
<div class="outline-text-3" id="text-7-4">
<p>
This tool is aimed at converting data contained in CSV files to RDF. The
convertion can be customized thanks to a configuration file.
</p>
</div>
</div>

<div id="outline-container-sec-7-5" class="outline-3">
<h3 id="sec-7-5"><span class="section-number-3">7.5</span> ontstats</h3>
<div class="outline-text-3" id="text-7-5">
<p>
Ontstats is aimed at providing numbers about ontologies: number of classes,
properties, axioms, individuals, rules, etc.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Advanced Features</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Engineering</h3>
<div class="outline-text-3" id="text-8-1">
</div><div id="outline-container-sec-8-1-1" class="outline-4">
<h4 id="sec-8-1-1"><span class="section-number-4">8.1.1</span> Functional predicate rule priority heuristic</h4>
<div class="outline-text-4" id="text-8-1-1">
<p>
Some rules infer a functional predicate, for which the reasoner stops as soon
as one value is found. So, if multiple rules infer the same functional
predicate, the order in which these rules are tried will influence the
performance.
</p>

<p>
There is a way to generate priority rules based on one simple heuristic: to see
the success rate of a rule. This heuristic is not perfect, as it does not take
into account the cost of these rules (sometimes running a cheap rule too often
would be more interesting).
</p>

<p>
To generate such rules, you need to turn on a specific tracing on the
application or service or queries. For instance, in java:
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-constant">jmercury</span>.<span class="org-constant">prevail_tt_engine__tracing</span>.<span class="org-type">Tracing_mode_0</span> <span class="org-variable-name">traceHandle</span> = jmercury.ont_projects_java_bridge.enablePrevailTTEngineComputeFunctionalPrioritiesTrace();
<span class="org-comment-delimiter">// </span><span class="org-comment">... here do all the queries representative of what you are optimizing</span>
jmercury.ont_projects_java_bridge.printPrevailTTEngineFunctionalPrioritiesRules(traceHandle);
jmercury.ont_projects_java_bridge.disablePrevailTTEngineTrace();
</pre>
</div>

<p>
This will print on the console the heuristic rules, which can be put in an
engineering sword file with the appropriate imports.
</p>
</div>
</div>

<div id="outline-container-sec-8-1-2" class="outline-4">
<h4 id="sec-8-1-2"><span class="section-number-4">8.1.2</span> Constant memoization</h4>
<div class="outline-text-4" id="text-8-1-2">
<p>
An ODASE knowledge base contains a memo table in which results
found from previous queries (and results of sub-computations made
by the current query) are stored.  Primarily this helps to ensure
that queries terminate, but it can also be used as a cache to
speed up subsequent queries.
</p>

<p>
Within a single transaction a memo table is used as a cache,
however between transactions and after any update the cache has to
be reset.  (See the resetCache() method of KnowledgeBase.)
However not all computations will be affected by changes in data.
For example some computations&rsquo; inputs will never be modified, and
therefore the computations&rsquo; results will never change.  These
computations, whether they&rsquo;re class or property queries, are
said to be constant and can be recorded in the memo table
permanently.
</p>

<p>
To use this feature two things are required.
</p>

<ol class="org-ol">
<li>Any class or property that is constant must be in the
ConstantProperty class which is defined in the persistence
ontology.
</li>

<li>If a new knowledge base is used for each transaction (possibly
by changing a store on a parent knowledge base) then the
application must somehow allow the data recorded in the memo
table to be copied back into the parent&rsquo;s knowledge base.  The
recommended way to do this is to use the forkKnowledgeBase()
and joinKnowledgeBase() methods.  When using these methods
within a transaction one must be very careful to reset
knowledge bases before joining them.  For example, lets imagine
you want a new knowledge base to perform a transaction with,
and it should be derived from parent_kb, which already exists
</li>
</ol>

<div class="org-src-container">

<pre class="src src-Java">    KnowledgeBase kb;

.   // If the parent knowledge base is used for anything other than
    // generating child knowledge bases then it must be reset.
    parent_kb.resetCache();

    // Fork a 'child' kb from the 'parent' kb.
    kb = parent_kb.forkKnowledgeBase();
    // Make any configuration changes that are required per-transaction.
    kb = kb.overrideDataStoreWithEmptyMemoryStore(configuration.sessionStoreID);

    // Run your transaction, either using a Hedwig generated API or by
    // direct calls.
    ...

    // Reset the child knowledge base before joining it, otherwise
    // non-constant results from this transaction may cause incorrect
    // results to be returned in later transactions.
    kb.resetCache();

    // Join the knowledge bases, allowing permanent results to be used
    // in later transactions.
    parent_kb.joinKnowledgeBase(kb);
</pre>
</div>

<p>
So why doesn&rsquo;t ODASE reset the caches for me?  Good question,
ODASE could easily reset the memo tables when either of these
predicates are called.  However, the fork and join operations are
designed to support parallelism and concurrency.  They allow the
programmer to create multiple knowledge bases that can be used
within the same transaction, where resets aren&rsquo;t required and may
even be undesirable.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> TBox Reasoning</h3>
<div class="outline-text-3" id="text-8-2">
<p>
TBox reasoning means accessing the model at the concept, properties and axioms level.
For instance asking the subclasses of a concept or asking the range of a property are called tbox reasoning.
</p>

<p>
There are many purpose for doing accessing the model in that way, for instance generating a user interface
from the model, doing code generation from a model (like hedwig does), in a model browser or editor, etc.
</p>

<p>
In this tutorial, we take a simple example oriented towards user interface generation. We do not pretend here to show
how to generate interfaces, but show how to access the model.
</p>

<p>
ODASE has different ways to access the model as TBox. Let&rsquo;s walk through each of these techniques, working on a very simple model which contains the concept of <code>Contract</code> and <code>Customer</code>, with properties <code>endDate</code>, <code>name</code> and <code>contracted</code>.
</p>

<div class="org-src-container">

<pre class="src src-sword">class Contract with
    endDate range xsd:date single.

class Customer with
    name range xsd:string single,
    contracted range Contract.
</pre>
</div>

<p>
Let&rsquo;s say that we want to show a screen for one <code>Contract</code> which would have editeable fields for all the properties
of the contract.
</p>
</div>

<div id="outline-container-sec-8-2-1" class="outline-4">
<h4 id="sec-8-2-1"><span class="section-number-4">8.2.1</span> TBox in Java using TBoxModel</h4>
<div class="outline-text-4" id="text-8-2-1">
<p>
<code>odase.TBoxModel</code> is the interface that exposes the model as tbox, to access the classes and properties.
</p>

<p>
First we need to initialize a <code>TBoxModel</code>, here we will base it on a SwrlKnowledgeBase.
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="org-type">SwrlKnowledgeBase</span> <span class="org-variable-name">kb</span> = <span class="org-keyword">new</span> <span class="org-type">SwrlKnowledgeBase</span>(<span class="org-string">"../catalog.xml"</span>, <span class="org-string">"http://myreasoner"</span>,
    Arrays.asList(<span class="org-keyword">new</span> <span class="org-type">String</span>[]{<span class="org-string">"contract.swd"</span>}), <span class="org-string">"contract.swd"</span>, <span class="org-keyword">new</span> <span class="org-type">FastConfig</span>());
<span class="org-type">TBoxModel</span> <span class="org-variable-name">tbox</span> = kb.getTBoxModel();
</pre>
</div>

<p>
Then, we need to retrieve the <code>Contract</code> concept.
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="org-type">TBoxClass</span> <span class="org-variable-name">contractConcept</span> = tbox.getTBoxClass(<span class="org-keyword">new</span> <span class="org-type">OwlClass</span>(contractNS + <span class="org-string">"Contract"</span>));
</pre>
</div>

<p>
The set of properties in the <code>Contract</code> domain can be retrieved
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="org-type">Collection</span>&lt;<span class="org-type">TBoxProperty</span>&gt; <span class="org-variable-name">contractProperties</span> = contractConcept.getPropertiesInDomain();
</pre>
</div>

<p>
To choose the correct user interface widget for each property,
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">for</span>(<span class="org-type">TBoxProperty</span> <span class="org-variable-name">contractProperty</span> : contractProperties)
{
    <span class="org-keyword">if</span>(contractProperty.getType() == <span class="org-constant">OwlProperty</span>.<span class="org-constant">PropertyType</span>.DATA)
    {
        createDataField(contractProperty.getDatatypeRange(),
            contractProperty.getMaxCardinality());
    }
    <span class="org-keyword">else</span>
    {
        createRelationField(contractProperty.getOwlClassRange(),
            contractProperty.getMaxCardinality());
    }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-8-2-2" class="outline-4">
<h4 id="sec-8-2-2"><span class="section-number-4">8.2.2</span> TBox in Java using reflection</h4>
<div class="outline-text-4" id="text-8-2-2">
<p>
When generating the Java api from the model using Hedwig,
annotations are generated along the classes and methods,
to relate it back to the model, and to add information such as cardinality.
</p>

<p>
Let&rsquo;s say that you have an individual of <code>Contract</code> as an <code>odase.Individual</code>.
</p>
<div class="org-src-container">

<pre class="src src-java"><span class="org-constant">odase</span>.<span class="org-type">Individual</span> <span class="org-variable-name">myContract</span> = ...
</pre>
</div>

<p>
Then, you can get its class and use <code>java.lang.reflect</code> to get the methods declared,
and only keep the ones with the annotations that tells that it corresponds to a property.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">for</span> (<span class="org-type">Method</span> <span class="org-variable-name">m</span>: myContract.getClass().getDeclaredMethods()) {
    <span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.<span class="org-type">SourceURI</span> <span class="org-variable-name">method_annotation</span> = m.getAnnotation(<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.SourceURI.<span class="org-keyword">class</span>);
    <span class="org-keyword">if</span> (method_annotation != <span class="org-constant">null</span>) {
        <span class="org-type">String</span> <span class="org-variable-name">property_id</span> = method_annotation.value();
        <span class="org-type">Class</span> <span class="org-variable-name">range</span> = m.getAnnotation(<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.RangeClass.<span class="org-keyword">class</span>).value();
        <span class="org-type">int</span> <span class="org-variable-name">max</span> = m.getAnnotation(<span class="org-constant">odase</span>.<span class="org-constant">annotations</span>.Cardinality).value().max;
        createField(range, max);
    }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-8-2-3" class="outline-4">
<h4 id="sec-8-2-3"><span class="section-number-4">8.2.3</span> TBox as a model</h4>
<div class="outline-text-4" id="text-8-2-3">
<p>
Doing TBox as a model aims at moving all the logic that would be done in Java into a model.
For instance, for the simple user interface example, the main concept to model are <code>Screen</code> and <code>Field</code>.
</p>

<div class="org-src-container">

<pre class="src src-sword">class Field with
    forInstance range owl:Thing required single,
    forProperty range rdf:Property required single,
    fieldType range owl:Thing.

class Screen with
    shows range Field.

class Contract with
    display range Screen single.

if
    ?c is a Contract
    and ?s function of [?c]
    and tbox:isInDomainOf(Contract, ?prop)
    and ?f function of [?c, ?prop]
    and tbox:isInRangeOf(?range, ?prop)
then
    ?s is a Screen
    and ?c display ?s
    and ?f is a Field
    and ?s shows ?f
    and ?f forInstance ?c
    and ?f forProperty ?prop
    and ?f fieldType ?range.
</pre>
</div>

<p>
Then using hedwig, you can generate the corresponding API to access to <code>Screen</code> and its <code>Fields</code>.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">Contract</span> <span class="org-variable-name">c</span> = ...
<span class="org-keyword">for</span>(<span class="org-type">Field</span> <span class="org-variable-name">f</span> : c.getDisplay().getShows())
{
    createField(f.getForProperty(), f.getFieldType());
}
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: ODASE Ontologies</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
